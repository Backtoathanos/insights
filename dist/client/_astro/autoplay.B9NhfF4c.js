import{m as v,c as H,g as P}from"./create-element-if-not-defined.C9HaC2X_.js";function V(e){let{swiper:a,extendParams:t,on:n,emit:i}=e;function s(e){let t;return e&&"string"==typeof e&&a.isElement&&(t=a.el.querySelector(e)||a.hostEl.querySelector(e),t)?t:(e&&("string"==typeof e&&(t=[...document.querySelectorAll(e)]),a.params.uniqueNavElements&&"string"==typeof e&&t&&t.length>1&&1===a.el.querySelectorAll(e).length?t=a.el.querySelector(e):t&&1===t.length&&(t=t[0])),e&&!t?e:t)}function l(e,t){const n=a.params.navigation;(e=v(e)).forEach((e=>{e&&(e.classList[t?"add":"remove"](...n.disabledClass.split(" ")),"BUTTON"===e.tagName&&(e.disabled=t),a.params.watchOverflow&&a.enabled&&e.classList[a.isLocked?"add":"remove"](n.lockClass))}))}function o(){const{nextEl:e,prevEl:t}=a.navigation;if(a.params.loop)return l(t,!1),void l(e,!1);l(t,a.isBeginning&&!a.params.rewind),l(e,a.isEnd&&!a.params.rewind)}function r(e){e.preventDefault(),(!a.isBeginning||a.params.loop||a.params.rewind)&&(a.slidePrev(),i("navigationPrev"))}function p(e){e.preventDefault(),(!a.isEnd||a.params.loop||a.params.rewind)&&(a.slideNext(),i("navigationNext"))}function d(){const e=a.params.navigation;if(a.params.navigation=H(a,a.originalParams.navigation,a.params.navigation,{nextEl:"swiper-button-next",prevEl:"swiper-button-prev"}),!e.nextEl&&!e.prevEl)return;let t=s(e.nextEl),n=s(e.prevEl);Object.assign(a.navigation,{nextEl:t,prevEl:n}),t=v(t),n=v(n);const i=(t,n)=>{t&&t.addEventListener("click","next"===n?p:r),!a.enabled&&t&&t.classList.add(...e.lockClass.split(" "))};t.forEach((e=>i(e,"next"))),n.forEach((e=>i(e,"prev")))}function u(){let{nextEl:e,prevEl:t}=a.navigation;e=v(e),t=v(t);const n=(e,t)=>{e.removeEventListener("click","next"===t?p:r),e.classList.remove(...a.params.navigation.disabledClass.split(" "))};e.forEach((e=>n(e,"next"))),t.forEach((e=>n(e,"prev")))}t({navigation:{nextEl:null,prevEl:null,hideOnClick:!1,disabledClass:"swiper-button-disabled",hiddenClass:"swiper-button-hidden",lockClass:"swiper-button-lock",navigationDisabledClass:"swiper-navigation-disabled"}}),a.navigation={nextEl:null,prevEl:null},n("init",(()=>{!1===a.params.navigation.enabled?m():(d(),o())})),n("toEdge fromEdge lock unlock",(()=>{o()})),n("destroy",(()=>{u()})),n("enable disable",(()=>{let{nextEl:e,prevEl:t}=a.navigation;e=v(e),t=v(t),a.enabled?o():[...e,...t].filter((e=>!!e)).forEach((e=>e.classList.add(a.params.navigation.lockClass)))})),n("click",((e,t)=>{let{nextEl:n,prevEl:s}=a.navigation;n=v(n),s=v(s);const l=t.target;let o=s.includes(l)||n.includes(l);if(a.isElement&&!o){const e=t.path||t.composedPath&&t.composedPath();e&&(o=e.find((e=>n.includes(e)||s.includes(e))))}if(a.params.navigation.hideOnClick&&!o){if(a.pagination&&a.params.pagination&&a.params.pagination.clickable&&(a.pagination.el===l||a.pagination.el.contains(l)))return;let e;n.length?e=n[0].classList.contains(a.params.navigation.hiddenClass):s.length&&(e=s[0].classList.contains(a.params.navigation.hiddenClass)),i(!0===e?"navigationShow":"navigationHide"),[...n,...s].filter((e=>!!e)).forEach((e=>e.classList.toggle(a.params.navigation.hiddenClass)))}}));const m=()=>{a.el.classList.add(...a.params.navigation.navigationDisabledClass.split(" ")),u()};Object.assign(a.navigation,{enable:()=>{a.el.classList.remove(...a.params.navigation.navigationDisabledClass.split(" ")),d(),o()},disable:m,update:o,init:d,destroy:u})}function z(e){let{swiper:a,extendParams:t,on:n,emit:i,params:s}=e;a.autoplay={running:!1,paused:!1,timeLeft:0},t({autoplay:{enabled:!1,delay:3e3,waitForTransition:!0,disableOnInteraction:!1,stopOnLastSlide:!1,reverseDirection:!1,pauseOnMouseEnter:!1}});let l,o,r,p,d,u,m,c,v,y,g=s&&s.autoplay?s.autoplay.delay:3e3,E=s&&s.autoplay?s.autoplay.delay:3e3,f=(new Date).getTime();function b(e){!a||a.destroyed||!a.wrapperEl||e.target===a.wrapperEl&&(a.wrapperEl.removeEventListener("transitionend",b),!(y||e.detail&&e.detail.bySwiperTouchMove)&&C())}const h=()=>{if(a.destroyed||!a.autoplay.running)return;a.autoplay.paused?p=!0:p&&(E=r,p=!1);const e=a.autoplay.paused?r:f+E-(new Date).getTime();a.autoplay.timeLeft=e,i("autoplayTimeLeft",e,e/g),o=requestAnimationFrame((()=>{h()}))},w=e=>{if(a.destroyed||!a.autoplay.running)return;cancelAnimationFrame(o),h();let t=typeof e>"u"?a.params.autoplay.delay:e;g=a.params.autoplay.delay,E=a.params.autoplay.delay;const n=(()=>{let e;return e=a.virtual&&a.params.virtual.enabled?a.slides.filter((e=>e.classList.contains("swiper-slide-active")))[0]:a.slides[a.activeIndex],e?parseInt(e.getAttribute("data-swiper-autoplay"),10):void 0})();!Number.isNaN(n)&&n>0&&typeof e>"u"&&(t=n,g=n,E=n),r=t;const s=a.params.speed,p=()=>{!a||a.destroyed||(a.params.autoplay.reverseDirection?!a.isBeginning||a.params.loop||a.params.rewind?(a.slidePrev(s,!0,!0),i("autoplay")):a.params.autoplay.stopOnLastSlide||(a.slideTo(a.slides.length-1,s,!0,!0),i("autoplay")):!a.isEnd||a.params.loop||a.params.rewind?(a.slideNext(s,!0,!0),i("autoplay")):a.params.autoplay.stopOnLastSlide||(a.slideTo(0,s,!0,!0),i("autoplay")),a.params.cssMode&&(f=(new Date).getTime(),requestAnimationFrame((()=>{w()}))))};return t>0?(clearTimeout(l),l=setTimeout((()=>{p()}),t)):requestAnimationFrame((()=>{p()})),t},L=()=>{f=(new Date).getTime(),a.autoplay.running=!0,w(),i("autoplayStart")},T=()=>{a.autoplay.running=!1,clearTimeout(l),cancelAnimationFrame(o),i("autoplayStop")},x=(e,t)=>{if(a.destroyed||!a.autoplay.running)return;clearTimeout(l),e||(v=!0);const n=()=>{i("autoplayPause"),a.params.autoplay.waitForTransition?a.wrapperEl.addEventListener("transitionend",b):C()};if(a.autoplay.paused=!0,t)return c&&(r=a.params.autoplay.delay),c=!1,void n();r=(r||a.params.autoplay.delay)-((new Date).getTime()-f),(!(a.isEnd&&r<0)||a.params.loop)&&(r<0&&(r=0),n())},C=()=>{a.isEnd&&r<0&&!a.params.loop||a.destroyed||!a.autoplay.running||(f=(new Date).getTime(),v?(v=!1,w(r)):w(),a.autoplay.paused=!1,i("autoplayResume"))},O=()=>{if(a.destroyed||!a.autoplay.running)return;const e=P();"hidden"===e.visibilityState&&(v=!0,x(!0)),"visible"===e.visibilityState&&C()},S=e=>{"mouse"===e.pointerType&&(v=!0,y=!0,!a.animating&&!a.autoplay.paused&&x(!0))},k=e=>{"mouse"===e.pointerType&&(y=!1,a.autoplay.paused&&C())};n("init",(()=>{a.params.autoplay.enabled&&(a.params.autoplay.pauseOnMouseEnter&&(a.el.addEventListener("pointerenter",S),a.el.addEventListener("pointerleave",k)),P().addEventListener("visibilitychange",O),L())})),n("destroy",(()=>{a.el&&"string"!=typeof a.el&&(a.el.removeEventListener("pointerenter",S),a.el.removeEventListener("pointerleave",k)),P().removeEventListener("visibilitychange",O),a.autoplay.running&&T()})),n("_freeModeStaticRelease",(()=>{(u||v)&&C()})),n("_freeModeNoMomentumRelease",(()=>{a.params.autoplay.disableOnInteraction?T():x(!0,!0)})),n("beforeTransitionStart",((e,t,n)=>{a.destroyed||!a.autoplay.running||(n||!a.params.autoplay.disableOnInteraction?x(!0,!0):T())})),n("sliderFirstMove",(()=>{if(!a.destroyed&&a.autoplay.running){if(a.params.autoplay.disableOnInteraction)return void T();d=!0,u=!1,v=!1,m=setTimeout((()=>{v=!0,u=!0,x(!0)}),200)}})),n("touchEnd",(()=>{if(!a.destroyed&&a.autoplay.running&&d){if(clearTimeout(m),clearTimeout(l),a.params.autoplay.disableOnInteraction)return u=!1,void(d=!1);u&&a.params.cssMode&&C(),u=!1,d=!1}})),n("slideChange",(()=>{a.destroyed||!a.autoplay.running||(c=!0)})),Object.assign(a.autoplay,{start:L,stop:T,pause:x,resume:C})}export{z as A,V as N};