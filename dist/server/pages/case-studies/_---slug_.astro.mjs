/* empty css                                                   */
import { b as createAstro, c as createComponent, r as renderTemplate, m as maybeRenderHead, d as addAttribute, s as spreadAttributes, a as renderComponent, e as renderSlot } from '../../chunks/astro/server_C19coWfX.mjs';
import 'kleur/colors';
import { $ as $$TableContent } from '../../chunks/TableContent_DSE061tx.mjs';
import { i as image } from '../../chunks/agreement-business_BkcocvzW.mjs';
import '@astrojs/internal-helpers/path';
import { $ as $$Image } from '../../chunks/_astro_assets_Ct7febRF.mjs';
import { $ as $$FollowUsSection } from '../../chunks/FollowUsSection_N28q5n0W.mjs';
import { $ as $$ShareButtons, a as $$ProductCard, b as $$CommentSection } from '../../chunks/CommentSection_vmGN9lyF.mjs';
import { $ as $$BaseLayoutNew } from '../../chunks/BaseLayoutNew_CYC5OcQ9.mjs';
import { $ as $$NewsLaterPopup } from '../../chunks/NewsLaterPopup_dcdPCFFW.mjs';
import { a as $$Icon } from '../../chunks/Button_BaSqYn27.mjs';
/* empty css                                     */
import { g as getRelativeLocaleUrl } from '../../chunks/translationUtils_XhrKexoJ.mjs';
import { f as formatDate, s as slugify, h as humanize } from '../../chunks/textUtils_tlWO4DlQ.mjs';
import { g as getLocaleFromUrl } from '../../chunks/localeUtils_hlzOdIQk.mjs';
import { g as getAllPosts } from '../../chunks/blogUtils_DPiN0YAU.mjs';
/* empty css                                     */
export { renderers } from '../../renderers.mjs';

const $$Astro$2 = createAstro("https://www.blackridgeresearch.com");
const $$CaseCardBlackridge = createComponent(($$result, $$props, $$slots) => {
  const Astro2 = $$result.createAstro($$Astro$2, $$props, $$slots);
  Astro2.self = $$CaseCardBlackridge;
  const { post, showDescription = false, class: className, ...rest } = Astro2.props;
  const { title, meta_desc, image_name, created_date, page_title, tags, styp } = post;
  const currLocale = getLocaleFromUrl(Astro2.url);
  const tagsArray = (tags ?? "").split(",").map((tag) => tag.trim()).filter(Boolean);
  const heroImage = `https://adminapi.blackridgeresearch.com/uploads/${image_name}`;
  const pubDate = new Date(created_date);
  let redirection = "Blog";
  if (styp == "News_Release") {
    redirection = "news-releases";
  } else if (styp == "Project Profiles") {
    redirection = "project-profiles";
  } else if (styp == "Press Release") {
    redirection = "press-releases";
  }
  return renderTemplate`${maybeRenderHead()}<article${addAttribute(["", className], "class:list")}${spreadAttributes(rest)}> <div class="relative"> <a${addAttribute(getRelativeLocaleUrl(currLocale, `/${redirection}/${page_title}/`), "href")} class="relative flex aspect-[2/1] max-h-[30rem] shrink-0 justify-center overflow-hidden rounded-md border border-base-300 sm:justify-normal dark:border-base-700"> <figure> ${renderComponent($$result, "Image", $$Image, { "src": heroImage, "alt": ` ${title}`, "width": 450, "height": 225, "densities": [1.5, 2], "quality": "high", "class": "h-auto min-h-full w-full object-cover" })} </figure> </a> <div class="absolute right-4 top-4"> <!-- Categories (if needed) --> <div class="flex gap-2"> <!-- Add categories here if available --> </div> </div> </div> <div class=""> <div class="mt-3 flex items-center justify-between"> <!-- Author section (if needed) --> <div class="flex items-center"> <!-- Add author details here if available --> </div> <!-- Published date --> <p class="whitespace-nowrap text-sm text-base-600 dark:text-base-400"> ${formatDate(pubDate, currLocale)} </p> </div> <!-- Title --> <div class="mt-2"> <a${addAttribute(getRelativeLocaleUrl(currLocale, `/blog/${page_title}/`), "href")} class="group"> <div class="flex justify-between"> <h2 class="line-clamp-2 inline text-lg font-semibold transition-colors md:text-xl"> ${title} </h2> ${renderComponent($$result, "Icon", $$Icon, { "name": "tabler/arrow-up-right", "class": "size-6 shrink-0 transition-colors group-hover:text-primary-500 md:size-7" })} </div> </a> </div> <!-- Description --> ${showDescription && renderTemplate`<p class="description mt-2 line-clamp-2 text-sm">${meta_desc}</p>`} <!-- Tags --> <div class="mt-3"> ${tagsArray.map((tag) => renderTemplate`<a${addAttribute(getRelativeLocaleUrl(currLocale, `/tag/${slugify(tag)}`).replace(/\/$/, ""), "href")} class="rounded-full border border-base-200 bg-base-100 px-2 py-0.5 text-xs uppercase shadow-sm dark:border-base-800 dark:bg-base-900"> ${humanize(tag)} </a>`)} </div> </div> </article>`;
}, "/home/blackridgeorg/public_html/src/components/CaseStudies/CaseCardBlackridge.astro", void 0);

const $$Astro$1 = createAstro("https://www.blackridgeresearch.com");
const $$CaseRelatedPostsSwiper = createComponent(async ($$result, $$props, $$slots) => {
  const Astro2 = $$result.createAstro($$Astro$1, $$props, $$slots);
  Astro2.self = $$CaseRelatedPostsSwiper;
  const currLocale = getLocaleFromUrl(Astro2.url);
  const posts = await getAllPosts(currLocale);
  posts.slice(0, 6);
  const { rcont, styp, nid } = Astro2.props;
  const apiUrl = `https://adminapi.blackridgeresearch.com/cases/live/related/${rcont}/${styp}/${nid}`;
  async function fetchRelatedPosts(apiUrl2) {
    try {
      const response = await fetch(apiUrl2);
      if (!response.ok) {
        throw new Error("Failed to fetch related posts");
      }
      const data = await response.json();
      return data;
    } catch (error) {
      console.error("Error fetching related posts:", error);
      return [];
    }
  }
  const relatedPosts = await fetchRelatedPosts(apiUrl);
  return renderTemplate`${maybeRenderHead()}<section id="related-posts-swiper" class="overflow-hidden bg-primary-100/30 py-12 dark:bg-inherit" data-astro-cid-ltd5r5mn> <div class="site-container" data-astro-cid-ltd5r5mn> <div class="flex items-center justify-between" data-astro-cid-ltd5r5mn> <h3 class="h2 mb-0" data-astro-cid-ltd5r5mn>Related Contents</h3> <!-- swiper navigation --> <div class="flex items-center justify-end" data-astro-cid-ltd5r5mn> <div class="description flex items-center gap-2 opacity-80" data-astro-cid-ltd5r5mn> <button class="related-posts__swiper-prev cursor-pointer p-1 transition-colors hover:text-secondary-500" data-astro-cid-ltd5r5mn> ${renderComponent($$result, "Icon", $$Icon, { "name": "tabler/arrow-narrow-left", "class": "size-10 lg:size-8", "data-astro-cid-ltd5r5mn": true })} <span class="sr-only" data-astro-cid-ltd5r5mn>Previous</span> </button> <button class="related-posts__swiper-next cursor-pointer p-1 transition-colors hover:text-secondary-500" data-astro-cid-ltd5r5mn> ${renderComponent($$result, "Icon", $$Icon, { "name": "tabler/arrow-narrow-right", "class": "size-10 lg:size-8", "data-astro-cid-ltd5r5mn": true })} <span class="sr-only" data-astro-cid-ltd5r5mn>Next</span> </button> </div> </div> </div> <div class="mt-4 overflow-x-clip" data-astro-cid-ltd5r5mn> <!-- swiper --> <div class="related-posts__swiper relative mt-6" data-astro-cid-ltd5r5mn> <!-- Swiper Wrapper --> <div class="swiper-wrapper" data-astro-cid-ltd5r5mn> <!-- Inject related posts into Swiper --> ${relatedPosts.map((post, idx) => renderTemplate`<div class="swiper-slide" data-astro-cid-ltd5r5mn> ${renderComponent($$result, "CaseCardBlackridge", $$CaseCardBlackridge, { "post": post, "showDescription": true, "data-astro-cid-ltd5r5mn": true })} </div>`)} </div> <!-- Swiper Scrollbar --> <div class="swiper-scrollbar" data-astro-cid-ltd5r5mn></div> </div> </div> </div> </section>  `;
}, "/home/blackridgeorg/public_html/src/components/BlackRidgeOther/CaseRelatedPostsSwiper.astro", void 0);

var __freeze = Object.freeze;
var __defProp = Object.defineProperty;
var __template = (cooked, raw) => __freeze(__defProp(cooked, "raw", { value: __freeze(raw || cooked.slice()) }));
var _a;
const $$Astro = createAstro("https://www.blackridgeresearch.com");
const $$ = createComponent(async ($$result, $$props, $$slots) => {
  const Astro2 = $$result.createAstro($$Astro, $$props, $$slots);
  Astro2.self = $$;
  const imageSrc = "/default-image.jpg";
  const imageWidth = 700;
  const imageHeight = 300;
  const { slug } = Astro2.params;
  let formattedSlug = slug.replace(/\//g, "_");
  formattedSlug = formattedSlug.replace(/[:/]/g, "-");
  formattedSlug = formattedSlug.replace(/[?/]/g, "-");
  console.log(formattedSlug, "formattedSlug");
  const response2 = await fetch(
    `https://adminapi.blackridgeresearch.com/cases/listid/${formattedSlug}`
  );
  const data = await response2.json();
  if (data.success == false) {
    const endpoints = [
      {
        url: `https://adminapi.blackridgeresearch.com/pressrelease/listid/${formattedSlug}`,
        redirect: `/press-releases/${slug}`
      },
      {
        url: `https://adminapi.blackridgeresearch.com/newsrelease/listid/${formattedSlug}`,
        redirect: `/news-releases/${slug}`
      },
      {
        url: `https://adminapi.blackridgeresearch.com/projectprofiles/listid/${formattedSlug}`,
        redirect: `/project-profiles/${slug}`
      }
    ];
    for (const endpoint of endpoints) {
      const response = await fetch(endpoint.url);
      const data2 = await response.json();
      if (data2.success) {
        return Astro2.redirect(endpoint.redirect, 307);
      }
    }
    return new Response(null, { status: 404, statusText: "Not Found" });
  }
  const rcont = data.data[0].rcont;
  const nid = data.data[0].nid;
  const styp = data.data[0].styp;
  const meta_title = data.data[0].meta_title;
  const meta_desc = data.data[0].meta_desc;
  return renderTemplate(_a || (_a = __template(["", '  <script>\n	// Function to hide all skeleton loaders and show actual content\n	function hideSkeletons() {\n		// Main content\n		document.getElementById("toc-skeleton")?.classList.add("hidden");\n		document.getElementById("mobile-toc-skeleton")?.classList.add("hidden"); // Add this line\n		document.getElementById("toc-content")?.classList.remove("hidden");\n		document.getElementById("category-skeleton")?.classList.add("hidden");\n		document.getElementById("title-skeleton")?.classList.add("hidden");\n		document.getElementById("image-skeleton")?.classList.add("hidden");\n		document.getElementById("content-skeleton")?.classList.add("hidden");\n		document.getElementById("blog-description")?.classList.remove("hidden");\n		document.getElementById("contenttype")?.classList.remove("hidden");\n		document.getElementById("blog-title-main")?.classList.remove("hidden");\n		document.getElementById("image-container")?.classList.remove("hidden");\n\n		// Sidebar\n		document.getElementById("share-skeleton")?.classList.add("hidden");\n		document.getElementById("product-skeleton")?.classList.add("hidden");\n		document.getElementById("recent-posts-skeleton")?.classList.add("hidden");\n		document.getElementById("sidebar-content")?.classList.remove("hidden");\n\n		// Bottom sections\n		document.getElementById("related-posts-skeleton")?.classList.add("hidden");\n		document.getElementById("comment-skeleton")?.classList.add("hidden");\n		document.getElementById("related-posts-content")?.classList.remove("hidden");\n		document.getElementById("comment-section-content")?.classList.remove("hidden");\n\n		// Show author and date\n		document\n			.querySelectorAll(".description .hidden")\n			.forEach((el) => el.classList.remove("hidden"));\n		// Force mobile TOC to hide if still visible\n		const mobileToc = document.getElementById("mobile-toc-skeleton");\n		if (mobileToc && !mobileToc.classList.contains("hidden")) {\n			mobileToc.classList.add("hidden");\n		}\n	}\n\n	// Extract ID from the URL\n	const url = window.location.href;\n	const blogIndex = url.indexOf("/case-studies//");\n	let afterBlog;\n\n	if (blogIndex !== -1) {\n		afterBlog = url.slice(blogIndex + 6);\n		afterBlog = afterBlog.split("?")[0];\n		afterBlog = afterBlog.replace(/\\//g, "_");\n		afterBlog = afterBlog.replace(/[:/]/g, "-");\n		afterBlog = afterBlog.replace(/[?/]/g, "-");\n	}\n	let rcont = 0;\n	let styp = 0;\n	let styp2 = 0;\n	let nid = 0;\n\n	async function fetchBlogData(afterBlog) {\n		try {\n			const response = await fetch(\n				`https://adminapi.blackridgeresearch.com/cases/listid/${afterBlog}`,\n			);\n			if (!response.ok) {\n				throw new Error("Failed to fetch blog data");\n			}\n			const data = await response.json();\n			return data.data;\n		} catch (error) {\n			console.error("Error fetching blog data:", error);\n			return null;\n		}\n	}\n\n	async function fetchBlogReadNextData(styp, styp2, nid) {\n		try {\n			const styp2Param = (styp2 || "0").replace(/\\//g, ""); // Remove any slashes\n			const response = await fetch(\n				`https://adminapi.blackridgeresearch.com/cases/live/readnext/${styp}/${styp2Param}/${nid}`,\n			);\n			if (!response.ok) {\n				throw new Error("Failed to fetch related data");\n			}\n			const data = await response.json();\n			return data;\n		} catch (error) {\n			console.error("Error fetching related data:", error);\n			return null;\n		}\n	}\n	async function fetchBlogRelatedData(rcont, styp, nid) {\n		try {\n			const response = await fetch(\n				`https://adminapi.blackridgeresearch.com/cases/live/related/${rcont}/${styp}/${nid}`,\n			);\n			if (!response.ok) {\n				throw new Error("Failed to fetch related data");\n			}\n			const data = await response.json();\n			return data;\n		} catch (error) {\n			console.error("Error fetching related data:", error);\n			return null;\n		}\n	}\n\n	// Update the URL\n	function updateUrl(id) {\n		const newUrl = `${window.location.origin}/case-studies/${id}`;\n		window.history.replaceState({}, "", newUrl);\n	}\n\n	function injectAccordionThemeCSS() {\n		if (document.getElementById("faq-theme-style")) return;\n\n		const style = document.createElement("style");\n		style.id = "faq-theme-style";\n		style.textContent = `\n  .faq-container {\n    display: flex;\n    flex-direction: column;\n    gap: 16px;\n  }\n\n  .faq-item {\n    border-radius: 12px;\n    overflow: hidden;\n    transition: all 0.3s ease;\n    position: relative;\n    background: #ffffff;\n    box-shadow: 0 2px 8px rgba(0, 0, 0, 0.05);\n    border: 1px solid #e5e9f2;\n  }\n\n  .faq-item:hover {\n    box-shadow: 0 4px 16px rgba(0, 97, 255, 0.1);\n    border-color: #0061ff;\n  }\n\n  .faq-header {\n    padding: 24px;\n    cursor: pointer;\n    display: flex;\n    justify-content: space-between;\n    align-items: center;\n    position: relative;\n    transition: all 0.3s ease;\n  }\n\n  .faq-header:hover {\n    background-color: #f7f9fc;\n  }\n\n  .faq-question {\n    font-size: 16px;\n    font-weight: 500;\n    flex: 1;\n    text-align: left;\n    transition: color 0.3s ease;\n    color: #111827;\n  }\n\n    .arrow {\n    width: 20px;\n    height: 20px;\n    display: inline-flex;\n    align-items: center;\n    justify-content: center;\n    margin-left: 16px;\n    transition: transform 0.3s ease;\n    transform-origin: center;\n  }\n\n  .arrow svg {\n    width: 14px !important;\n    height: 14px !important;\n    display: block;\n  }\n\n  .faq-item.active .arrow {\n    transform: rotate(180deg);\n  }\n  .faq-content {\n    overflow: hidden;\n    max-height: 0;\n    transition: max-height 0.4s cubic-bezier(0.4, 0, 0.2, 1);\n  }\n\n  .faq-item.active .faq-content {\n    max-height: 400px;\n  }\n\n  .faq-answer {\n    padding: 20px 24px 24px;\n    font-size: 14px;\n    opacity: 0;\n    transform: translateY(-10px);\n    transition: all 0.3s ease 0.1s;\n    line-height: 1.6;\n    color: #4b5563;\n  }\n\n  .faq-item.active .faq-answer {\n    opacity: 1;\n    transform: translateY(0);\n  }\n\n  .faq-item.active::before {\n    content: \'\';\n    position: absolute;\n    left: 0;\n    top: 0;\n    bottom: 0;\n    width: 4px;\n    background: #0061ff;\n    transform: scaleY(1);\n    transition: transform 0.3s ease;\n  }\n\n  .faq-item::before {\n    content: \'\';\n    position: absolute;\n    left: 0;\n    top: 0;\n    bottom: 0;\n    width: 4px;\n    background: #0061ff;\n    transform: scaleY(0);\n    transition: transform 0.3s ease;\n  }\n\n  .faq-item.active .faq-header {\n    background: rgba(0, 97, 255, 0.05);\n  }\n\n  /* Dark mode */\n  .dark .faq-item {\n    background: #222;\n    border: 1px solid #333;\n    box-shadow: 0 2px 8px rgba(255, 255, 255, 0.05);\n  }\n\n  .dark .faq-header:hover {\n    background-color: #262626;\n  }\n\n  .dark .faq-question {\n    color: #f5f5f5;\n  }\n\n  .dark .faq-answer {\n    color: #b3b3b3;\n  }\n\n  .dark .faq-item.active .faq-header {\n    background: rgba(0, 97, 255, 0.1);\n  }\n\n  @media (max-width: 768px) {\n    .faq-header {\n      padding: 20px;\n    }\n\n    .faq-question {\n      font-size: 16px;\n    }\n\n    .faq-answer {\n      padding: 20px 20px 20px;\n      font-size: 14px;\n    }\n  }\n\n  .faq-header:focus {\n    outline: 2px solid #0061ff;\n    outline-offset: 2px;\n  }\n  `;\n		document.head.appendChild(style);\n	}\n\n	function injectFrontendBlockStyles() {\n		if (document.getElementById("frontend-block-style")) return;\n\n		const style = document.createElement("style");\n		style.id = "frontend-block-style";\n		style.textContent = `\n    /* --- Frontend NoteBox --- */\n    .note-box {\n      background-color: #e6f0fa;\n      border-left: 4px solid #1e40b0;\n      padding: 16px;\n      margin: 16px 0;\n      border-radius: 4px;\n      font-family: \'Segoe UI\', sans-serif;\n      color: #333;\n    }\n\n    .dark .note-box {\n      background-color: #1d2633;\n      border-left: 4px solid #3b82f5;\n      color: #e5e7eb;\n    }\n\n    /* --- Frontend CTA Box --- */\n    .cta-box {\n      background-color: #ffffff;\n      border: 1px solid #d1d5db;\n      border-left: 4px solid #2563eb;\n      padding: 1.5rem;\n      margin: 1.5rem 0;\n      border-radius: 0.5rem;\n      box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);\n      font-family: \'Segoe UI\', sans-serif;\n      color: #1f2937;\n    }\n\n    .dark .cta-box {\n      background-color: #1e2a44;\n      border: 1px solid #374151;\n      border-left: 4px solid #3b82f6;\n      color: #e5e7eb;\n    }\n\n    .cta-box p {\n      margin: 0 0 0.75rem 0;\n      font-size: 1rem;\n      line-height: 1.5;\n    }\n\n    .cta-box p.cta-header-row {\n      display: flex;\n      justify-content: space-between;\n      align-items: center;\n      margin-bottom: 0.75rem;\n    }\n\n    .cta-box p.cta-header-row span:first-child {\n      font-size: 1.25rem;\n      font-weight: 700;\n      color: #000000;\n    }\n\n    .dark .cta-box p.cta-header-row span:first-child {\n      color: #ffffff;\n    }\n\n    .cta-box a.cta-button {\n      display: inline-flex;\n      align-items: center;\n      margin: 0.75rem 0;\n      background-color: #3b82f6;\n      color: white;\n      padding: 0.75rem 1.5rem;\n      border-radius: 0.375rem;\n      font-weight: 600;\n      font-size: 1rem;\n      text-decoration: none;\n      transition: background-color 0.2s ease;\n    }\n\n    .cta-box a.cta-button:hover {\n      background-color: #2563eb;\n    }\n  `;\n		document.head.appendChild(style);\n	}\n\n	// Bind data to HTML\n	function bindDataToHtml(data) {\n		if (!data || !data.length) return;\n		setTimeout(setupTocHighlighting, 50);\n\n		styp = data[0].styp;\n		styp2 = data[0].styp2 || "NA";\n		nid = data[0].nid;\n		rcont = data[0].rcont;\n\n		// Update content\n		document.getElementById("blog-title").textContent = data[0].title;\n		document.getElementById("blog-title-main").textContent = data[0].title;\n		document.getElementById("blog-image").src =\n			"https://adminapi.blackridgeresearch.com/uploads/" + data[0].image_name;\n		document.getElementById("blog-image").alt = data[0].title;\n		document.getElementById("blog-description").innerHTML = data[0].description.replace(\n			/\\r?\\n/g,\n			"<br>",\n		);\n\n		// Update content type\n		const contentTypeElement = document.getElementById("contenttype");\n		if (contentTypeElement) {\n			contentTypeElement.textContent = data[0].styp2 || data[0].styp || "NA";\n		}\n\n		// Format date\n		const createdDate = new Date(data[0].last_updated);\n		const months = [\n			"January",\n			"February",\n			"March",\n			"April",\n			"May",\n			"June",\n			"July",\n			"August",\n			"September",\n			"October",\n			"November",\n			"December",\n		];\n		const formattedDate = `${months[createdDate.getMonth()]} ${createdDate.getDate()}, ${createdDate.getFullYear()}`;\n\n		const dateElement = document.getElementById("lastupdated-on");\n		if (dateElement) {\n			dateElement.textContent = formattedDate;\n		}\n\n		// Process tables\n		const blogDescriptionElement = document.getElementById("blog-description");\n		if (blogDescriptionElement) {\n			const tables = document.querySelectorAll("table");\n\n			tables.forEach((table) => {\n				// Create scrolling wrapper\n				const wrapper = document.createElement("div");\n				wrapper.classList.add("overflow-x-auto", "w-full", "rounded-lg", "shadow-md", "my-6");\n\n				// Basic table styling\n				table.classList.add(\n					"w-full",\n					"border-collapse",\n					"text-sm",\n					"font-sans",\n					"min-w-[600px]",\n					"m-0",\n					"border", // Add outer border\n					"!border-gray-200", // Light mode border color\n					"!dark:border-[#374151]", // Dark mode border color\n					"rounded-lg", // Rounded corners\n					"overflow-hidden", // Ensure rounded corners work\n					"not-prose",\n				);\n\n				// Add border styling to cells\n				const allCells = table.querySelectorAll("th, td");\n				allCells.forEach((cell) => {\n					cell.classList.add(\n						"border-x",\n						"border-gray-200", // Light mode border\n						"dark:border-[#374151]", // Dark mode border\n						"px-4",\n						"py-3",\n					);\n				});\n\n				// Special border treatment for header\n				const headerCells = table.querySelectorAll("th");\n				headerCells.forEach((headerCell) => {\n					headerCell.classList.add(\n						"border-b-2", // Thicker bottom border\n						"border-gray-300", // Light mode\n						"dark:border-gray-600", // Dark mode\n						"!uppercase",\n						"!text-white",\n						"!tracking-wider",\n						"!font-medium",\n					);\n				});\n\n				// Special border treatment for last row\n				const lastRow = table.querySelector("tr:last-child");\n				if (lastRow) {\n					const lastRowCells = lastRow.querySelectorAll("td");\n					lastRowCells.forEach((cell) => {\n						cell.classList.add(\n							"border-b-0", // Remove bottom border for last row\n						);\n					});\n				}\n\n				// Insert wrapper\n				table.parentNode.insertBefore(wrapper, table);\n				wrapper.appendChild(table);\n\n				// Style header row\n				const headerRow = table.querySelector("tr:first-child");\n				if (headerRow) {\n					headerRow.classList.add(\n						"!bg-[#2563EB]", // Deep blue in light mode\n						"!text-white", // White text\n						"dark:!bg-[#1E40AF]", // Dark navy in dark mode\n						"!border-blue-700",\n						"not-prose",\n					);\n\n					headerRow.querySelectorAll("th, td").forEach((cell) => {\n						cell.classList.add(\n							"px-4",\n							"py-3",\n							"font-bold",\n							"text-base",\n							"text-left",\n							"border-b",\n							"border-gray-200",\n							"dark:border-gray-700",\n							"not-prose",\n\n							// "border-[#ffffff30]",\n						);\n					});\n				}\n\n				// Style body rows\n				const rows = table.querySelectorAll("tr:not(:first-child)");\n				rows.forEach((row, index) => {\n					// Light mode colors\n					const lightBg = index % 2 === 0 ? "!bg-[#f8fafc]" : "!bg-[#e9ecef]";\n\n					// Dark mode colors\n					const darkBg = index % 2 === 0 ? "dark:!bg-[#111827]" : "dark:!bg-[#030712]";\n\n					row.classList.add(\n						lightBg,\n						darkBg,\n						"hover:!bg-[#e2e8f0]", // Light mode hover\n						"dark:hover:!bg-[#1F2937]", // Dark mode hover\n						"transition-colors",\n						"duration-200",\n					);\n\n					// Style all cells\n					row.querySelectorAll("td").forEach((cell) => {\n						cell.classList.add(\n							"px-4",\n							"py-3",\n							"text-sm",\n							"!text-[#1e293b]", // Dark text in light mode\n							"dark:!text-[#f8fafc]", // Light text in dark mode\n							"border-b",\n							"border-[#00000010]",\n							"dark:border-[#ffffff10]",\n						);\n					});\n\n					// Style specific columns\n					// const rankCell = row.querySelector("td:first-child");\n					// const companyCell = row.querySelector("td:nth-child(1)");\n					// const capacityCell = row.querySelector("td:last-child");\n\n					// if (rankCell)\n					// 	rankCell.classList.add("font-semibold", "text-[#0c1071]", "!dark:text-[#0c1071]");\n					// if (companyCell)\n					// 	companyCell.classList.add("font-medium", "!text-[#0c1071]", "!dark:text-[#0c1071]");\n					// if (capacityCell) {\n					// 	capacityCell.classList.add(\n					// 		"font-bold",\n					// 		"!text-[#2563eb]", // Blue in light mode\n					// 		"dark:!text-[#60a5fa]", // Lighter blue in dark mode\n					// 	);\n					// }\n				});\n			});\n\n			const ctaBoxes = blogDescriptionElement.querySelectorAll(".cta-box");\n\n			ctaBoxes.forEach((ctaBox) => {\n				// Main Container\n				ctaBox.className =\n					"w-full my-6 p-4 bg-white dark:bg-gray-800 border-l-4 border-blue-600 dark:border-blue-500 rounded-lg shadow-md";\n\n				// \u2B50 Star Ratings\n				const ratingBlock = ctaBox.querySelector("p:has(svg)");\n\n				if (ratingBlock) {\n					ratingBlock.classList.add("flex", "items-center", "justify-end");\n\n					// Optional: Add classes to each star\n					ratingBlock.querySelectorAll("svg").forEach((svg) => {\n						svg.classList.add("w-5", "h-5", "fill-current", "text-yellow-400");\n					});\n\n					// Optional: Style the reviews count\n					const reviewText = ratingBlock.querySelector("em");\n					if (reviewText) {\n						reviewText.classList.add(\n							"ml-2",\n							"text-sm",\n							"text-gray-500",\n							"italic",\n							"dark:text-gray-400",\n						);\n					}\n				}\n\n				// Heading\n				const heading = ctaBox.querySelector("strong");\n				if (heading) {\n					heading.className = "block text-xl font-bold mb-3 text-gray-800 dark:text-white";\n					if (heading.parentElement.tagName === "P") {\n						heading.parentElement.className = "mb-3";\n					}\n				}\n\n				// Description\n				const description = [...ctaBox.querySelectorAll("p")].find(\n					(p) =>\n						p.textContent.trim() &&\n						!p.querySelector("a") &&\n						!p.querySelector("strong") &&\n						!p.querySelector(".star-icon"),\n				);\n				if (description) description.className = "text-gray-600 dark:text-gray-300 mb-4";\n\n				// CTA Button\n				const button = ctaBox.querySelector(".cta-button");\n				if (button) {\n					button.className =\n						"inline-flex items-center px-6 py-3 bg-blue-600 hover:bg-blue-700 text-white font-medium rounded-md transition-colors duration-200 mb-4";\n					if (!button.querySelector("svg")) {\n						button.innerHTML += `\n<svg class="w-5 h-5 ml-2" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">\n<path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M14 5l7 7m0 0l-7 7m7-7H3"></path>\n</svg>`;\n					} else {\n						const icon = button.querySelector("svg");\n						icon.className = "w-5 h-5 ml-2";\n					}\n				}\n\n				// Feature Icons\n				const features = ctaBox.querySelector("p:has(.feature-icon-first)");\n				if (features) {\n					features.className = "flex flex-wrap gap-1 text-sm";\n					ctaBox.querySelectorAll(".feature-icon-first, .feature-icon-second").forEach((icon) => {\n						const svg = icon.querySelector("svg");\n						if (svg) svg.className = "w-4 h-4 mr-1 text-blue-500";\n\n						const textNodes = [...icon.parentNode.childNodes].filter(\n							(n) => n.nodeType === 3 && n.textContent.trim(),\n						);\n						textNodes.forEach((textNode) => {\n							const span = document.createElement("span");\n							span.className = "flex items-center text-gray-600 dark:text-gray-300";\n							span.textContent = textNode.textContent;\n							textNode.replaceWith(span);\n						});\n					});\n				}\n\n				// Joined by Section\n				const joinedText = [...ctaBox.querySelectorAll("em")].find((em) =>\n					em.textContent.includes("Joined by"),\n				);\n				if (joinedText) {\n					const joinedContainer = joinedText.parentElement;\n					joinedContainer.className =\n						"flex items-center  text-sm text-gray-500 dark:text-gray-400 italic";\n\n					const avatars = document.createElement("div");\n					avatars.className = "flex -space-x-2 mr-2";\n\n					ctaBox.querySelectorAll(".avatar-icon").forEach(() => {\n						const img = document.createElement("img");\n						img.src = "https://randomuser.me/api/portraits/women/44.jpg";\n						img.alt = "User";\n						img.className =\n							"w-8 h-8 rounded-full border-2 border-white dark:border-gray-800 object-cover !mt-0 !mb-0";\n						img.onerror = function () {\n							this.onerror = null;\n							this.src = "https://www.gravatar.com/avatar/default?s=200&d=mp";\n						};\n\n						const wrapper = document.createElement("div");\n						wrapper.className = "relative inline-block";\n\n						wrapper.appendChild(img);\n						avatars.appendChild(wrapper);\n					});\n\n					if (!joinedContainer.querySelector("img")) {\n						joinedContainer.insertBefore(avatars, joinedText);\n					}\n				}\n			});\n\n			const images = blogDescriptionElement.querySelectorAll("img");\n			images.forEach((img) => {\n				// Remove inline width/height styles\n				img.style.width = "";\n				img.style.height = "";\n				// Remove width/height attributes\n				img.removeAttribute("width");\n				img.removeAttribute("height");\n				// Add responsive class\n				img.classList.add("resizable-image");\n			});\n\n			// Process headers for TOC and add copy link buttons\n			const headers = ["h2", "h3", "h4", "h5", "h6"];\n			const availableHeaders = headers.filter((header) =>\n				blogDescriptionElement.querySelector(header),\n			);\n\n			if (availableHeaders.length > 0) {\n				const mainHeader = availableHeaders[0];\n				const tocData = [];\n				const counters = [0, 0, 0, 0, 0];\n\n				// Process headers\n				blogDescriptionElement.querySelectorAll(mainHeader).forEach((mainHeaderElement) => {\n					const currentLevel =\n						availableHeaders.indexOf(mainHeaderElement.tagName.toLowerCase()) + 1;\n					counters[currentLevel - 1]++;\n\n					for (let i = currentLevel; i < counters.length; i++) {\n						counters[i] = 0;\n					}\n\n					const headerText = mainHeaderElement.textContent.trim();\n\n					// Generate clean ID\n					const headerId = headerText\n						.toLowerCase()\n						.replace(/\\s+/g, "-")\n						.replace(/[^\\w-]/g, "")\n						.replace(/-+/g, "-")\n						.replace(/^-+/, "")\n						.replace(/-+$/, "");\n\n					mainHeaderElement.id = headerId;\n\n					// Generate numbering (e.g., "1" or "1.2")\n					let numbering = "";\n					for (let i = 0; i < currentLevel; i++) {\n						if (i > 0) numbering += ".";\n						numbering += counters[i];\n					}\n\n					// Update header text with numbering\n					mainHeaderElement.textContent = `${numbering}. ${headerText.replace(/^\\d+(\\.\\d+)*\\.?\\s*/, "")}`;\n\n					// Create copy link button (for headers only, not for TOC)\n					const copyLinkBtn = document.createElement("button");\n					copyLinkBtn.innerHTML = `\n            <svg viewBox="0 0 24 24" class="size-6" fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2">\n                <path d="M0 0h24v24H0z" stroke="none"></path>\n                <path d="m9 15 6-6M11 6l.463-.536a5 5 0 0 1 7.071 7.072L18 13M13 18l-.397.534a5.068 5.068 0 0 1-7.127 0 4.972 4.972 0 0 1 0-7.071L6 11"></path>\n            </svg>\n        `;\n					copyLinkBtn.classList.add(\n						"copy-link-btn",\n						"ml-2",\n						"opacity-0",\n						"transition-opacity",\n						"duration-200",\n						"inline-flex",\n						"items-center",\n						"justify-center",\n						"w-6",\n						"h-6",\n						"rounded",\n						"hover:bg-gray-100",\n						"dark:hover:bg-gray-700",\n					);\n					copyLinkBtn.title = "Copy link to this section";\n\n					// Copy link functionality (for headers only)\n					copyLinkBtn.addEventListener("click", (e) => {\n						e.preventDefault();\n						e.stopPropagation();\n\n						const url = new URL(window.location.href);\n						url.hash = headerId;\n						const link = url.toString();\n\n						navigator.clipboard.writeText(link).then(() => {\n							const originalHTML = copyLinkBtn.innerHTML;\n							copyLinkBtn.innerHTML = `\n                    <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">\n                        <path d="M20 6L9 17l-5-5"></path>\n                    </svg>\n                `;\n							copyLinkBtn.classList.add("text-green-500");\n\n							setTimeout(() => {\n								copyLinkBtn.innerHTML = originalHTML;\n								copyLinkBtn.classList.remove("text-green-500");\n							}, 2000);\n						});\n					});\n\n					// Add hover effects to header\n					mainHeaderElement.classList.add("group", "flex", "items-center");\n					mainHeaderElement.appendChild(copyLinkBtn);\n\n					mainHeaderElement.addEventListener("mouseenter", () => {\n						copyLinkBtn.classList.remove("opacity-0");\n						copyLinkBtn.classList.add("opacity-100");\n					});\n\n					mainHeaderElement.addEventListener("mouseleave", () => {\n						copyLinkBtn.classList.remove("opacity-100");\n						copyLinkBtn.classList.add("opacity-0");\n					});\n\n					tocData.push({\n						text: mainHeaderElement.textContent,\n						id: headerId,\n						level: currentLevel,\n					});\n\n					// Process subheaders\n					let nextElement = mainHeaderElement.nextElementSibling;\n					while (nextElement && !nextElement.matches(mainHeader)) {\n						if (availableHeaders.includes(nextElement.tagName.toLowerCase())) {\n							const subLevel = availableHeaders.indexOf(nextElement.tagName.toLowerCase()) + 1;\n							counters[subLevel - 1]++;\n\n							for (let i = subLevel; i < counters.length; i++) {\n								counters[i] = 0;\n							}\n\n							const subHeaderText = nextElement.textContent.trim();\n							const subHeaderId = subHeaderText\n								.toLowerCase()\n								.replace(/\\s+/g, "-")\n								.replace(/&/g, "-and-")\n								.replace(/[()]/g, "")\n								.replace(/[^\\w-]/g, "")\n								.replace(/-+/g, "-")\n								.replace(/^-+/, "")\n								.replace(/-+$/, "");\n\n							let subNumbering = "";\n							for (let i = 0; i < subLevel; i++) {\n								if (i > 0) subNumbering += ".";\n								subNumbering += counters[i];\n							}\n\n							nextElement.textContent = `${subNumbering}. ${subHeaderText.replace(/^\\d+(\\.\\d+)*\\.?\\s*/, "")}`;\n							nextElement.id = subHeaderId;\n\n							// Add copy button to subheaders (for headers only, not for TOC)\n							const subCopyLinkBtn = copyLinkBtn.cloneNode(true);\n							subCopyLinkBtn.addEventListener("click", (e) => {\n								e.preventDefault();\n								e.stopPropagation();\n\n								let url = window.location.href;\n								if (url.endsWith("/")) {\n									url = url.slice(0, -1);\n								}\n\n								const link = `${url}#${subHeaderId}`;\n\n								navigator.clipboard.writeText(link).then(() => {\n									const originalHTML = subCopyLinkBtn.innerHTML;\n									subCopyLinkBtn.innerHTML = `\n                            <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">\n                                <path d="M20 6L9 17l-5-5"></path>\n                            </svg>\n                        `;\n									subCopyLinkBtn.classList.add("text-green-500");\n\n									setTimeout(() => {\n										subCopyLinkBtn.innerHTML = originalHTML;\n										subCopyLinkBtn.classList.remove("text-green-500");\n									}, 2000);\n								});\n							});\n\n							nextElement.classList.add("group", "flex", "items-center");\n							nextElement.appendChild(subCopyLinkBtn);\n\n							nextElement.addEventListener("mouseenter", () => {\n								subCopyLinkBtn.classList.remove("opacity-0");\n								subCopyLinkBtn.classList.add("opacity-100");\n							});\n\n							nextElement.addEventListener("mouseleave", () => {\n								subCopyLinkBtn.classList.remove("opacity-100");\n								subCopyLinkBtn.classList.add("opacity-0");\n							});\n\n							tocData.push({\n								text: nextElement.textContent,\n								id: subHeaderId,\n								level: subLevel,\n							});\n						}\n						nextElement = nextElement.nextElementSibling;\n					}\n				});\n\n				// Generate TOC HTML with collapsible sections (without copy links)\n				let tocHTML = "";\n				let currentLevel = 0;\n				let hasChildren = false;\n\n				tocData.forEach((item, index) => {\n					// Close previous lists if needed\n					while (currentLevel > item.level) {\n						tocHTML += "</ul></li>";\n						currentLevel--;\n					}\n\n					// Check if this item has children\n					const nextItem = tocData[index + 1];\n					hasChildren = nextItem && nextItem.level > item.level;\n\n					// Add list item with collapsible functionality if it has children\n					if (hasChildren) {\n						tocHTML += `\n                <li class="toc-item" data-level="${item.level}">\n                    <div class="toc-header flex items-center justify-between">\n                        <a href="#${item.id}" class="toc-link transition hover:text-primary-600 dark:hover:text-primary-400">\n                            ${item.text}\n                        </a>\n                        <button class="toc-collapse-btn ml-1 p-1 rounded hover:bg-gray-100 dark:hover:bg-gray-700">\n                            <svg class="toc-arrow w-4 h-4 transform transition-transform duration-200" viewBox="0 0 20 20" fill="currentColor">\n                                <path fill-rule="evenodd" d="M5.293 7.293a1 1 0 011.414 0L10 10.586l3.293-3.293a1 1 0 111.414 1.414l-4 4a1 1 0 01-1.414 0l-4-4a1 1 0 010-1.414z" clip-rule="evenodd" />\n                            </svg>\n                        </button>\n                    </div>\n                    <ul class="toc-submenu hidden pl-4">\n            `;\n					} else {\n						tocHTML += `\n                <li class="toc-item" data-level="${item.level}">\n                    <a href="#${item.id}" class="toc-link transition hover:text-primary-600 dark:hover:text-primary-400">\n                        ${item.text}\n                    </a>\n                ${nextItem && nextItem.level < item.level ? "</ul></li>" : "</li>"}\n            `;\n					}\n\n					currentLevel = item.level;\n				});\n\n				// Close any remaining lists\n				while (currentLevel > 0) {\n					tocHTML += "</ul></li>";\n					currentLevel--;\n				}\n\n				const tocElement = document.getElementById("show-h3list");\n				if (tocElement) {\n					tocElement.innerHTML = tocHTML;\n\n					// Add click handlers for collapsible sections\n					document.querySelectorAll(".toc-collapse-btn").forEach((button) => {\n						button.addEventListener("click", (e) => {\n							e.preventDefault();\n							e.stopPropagation();\n\n							const submenu = button.closest(".toc-item").querySelector(".toc-submenu");\n							const arrow = button.querySelector(".toc-arrow");\n\n							submenu.classList.toggle("hidden");\n							arrow.classList.toggle("rotate-180");\n						});\n					});\n				}\n			}\n		}\n		addExternalLinkIcons();\n		injectAccordionThemeCSS();\n		injectFrontendBlockStyles();\n		bindAccordionToggle();\n		// Hide skeletons and show content\n		hideSkeletons();\n	}\n\n	function addExternalLinkIcons() {\n		const blogDescription = document.getElementById("blog-description");\n		if (!blogDescription) return;\n\n		const externalLinks = blogDescription.querySelectorAll(\'a[target="_blank"]\');\n\n		externalLinks.forEach((link) => {\n			// Check if icon already exists\n			if (link.querySelector(".external-link-icon")) return;\n\n			const svg = document.createElementNS("http://www.w3.org/2000/svg", "svg");\n			svg.setAttribute("class", "external-link-icon");\n			svg.setAttribute("xmlns", "http://www.w3.org/2000/svg");\n			svg.setAttribute("fill", "none");\n			svg.setAttribute("stroke", "currentColor");\n			svg.setAttribute("stroke-width", "2");\n			svg.setAttribute("viewBox", "0 0 24 24");\n			svg.style.width = "16px";\n			svg.style.height = "16px";\n			svg.style.marginLeft = "4px";\n			svg.style.marginRight = "4px";\n			svg.style.verticalAlign = "middle";\n			svg.style.display = "inline-block";\n\n			const path1 = document.createElementNS("http://www.w3.org/2000/svg", "path");\n			path1.setAttribute("d", "M18 13v6a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6");\n\n			const polyline = document.createElementNS("http://www.w3.org/2000/svg", "polyline");\n			polyline.setAttribute("points", "15 3 21 3 21 9");\n\n			const line = document.createElementNS("http://www.w3.org/2000/svg", "line");\n			line.setAttribute("x1", "10");\n			line.setAttribute("y1", "14");\n			line.setAttribute("x2", "21");\n			line.setAttribute("y2", "3");\n\n			svg.appendChild(path1);\n			svg.appendChild(polyline);\n			svg.appendChild(line);\n\n			link.appendChild(svg);\n		});\n	}\n\n	// Add this function to handle TOC highlighting\n	function setupTocHighlighting() {\n		const tocLinks = document.querySelectorAll(".toc-link");\n		const headers = Array.from(document.querySelectorAll("h2, h3, h4, h5, h6")).filter((h) => h.id);\n		const tocCollapseBtns = document.querySelectorAll(".toc-collapse-btn");\n\n		if (!tocLinks.length || !headers.length) return;\n\n		let currentActiveLink = null;\n		let isProgrammaticScroll = false;\n\n		// Expand a TOC section\n		function expandSection(link) {\n			const parentItem = link.closest(".toc-item");\n			if (parentItem && parentItem.querySelector(".toc-submenu")) {\n				const submenu = parentItem.querySelector(".toc-submenu");\n				const collapseBtn = parentItem.querySelector(".toc-collapse-btn");\n				if (submenu.classList.contains("hidden")) {\n					submenu.classList.remove("hidden");\n					if (collapseBtn) {\n						collapseBtn.querySelector(".toc-arrow").classList.add("rotate-180");\n					}\n				}\n			}\n		}\n\n		// Collapse all sections except the active one\'s ancestors\n		function collapseInactiveSections(activeLink) {\n			const activeParents = [];\n			let current = activeLink;\n\n			// Get all parent items of the active link\n			while (current) {\n				current = current.closest(".toc-item");\n				if (current) {\n					activeParents.push(current);\n					current = current.parentElement.closest(".toc-item");\n				}\n			}\n\n			// Collapse all items not in activeParents hierarchy\n			document.querySelectorAll(".toc-item").forEach((item) => {\n				if (!activeParents.includes(item) && item !== activeLink?.closest(".toc-item")) {\n					const submenu = item.querySelector(".toc-submenu");\n					const collapseBtn = item.querySelector(".toc-collapse-btn");\n					if (submenu && !submenu.classList.contains("hidden")) {\n						submenu.classList.add("hidden");\n						if (collapseBtn) {\n							collapseBtn.querySelector(".toc-arrow").classList.remove("rotate-180");\n						}\n					}\n				}\n			});\n		}\n\n		function clearActiveLinks() {\n			tocLinks.forEach((link) => {\n				link.classList.remove("active");\n				link.parentElement.classList.remove("active");\n			});\n		}\n\n		function getCurrentHeader() {\n			if (isProgrammaticScroll) return null;\n\n			const scrollPosition = window.scrollY + 100;\n\n			if (window.innerHeight + window.scrollY >= document.body.offsetHeight - 100) {\n				return headers[headers.length - 1];\n			}\n\n			for (let i = headers.length - 1; i >= 0; i--) {\n				const header = headers[i];\n				const headerTop = header.offsetTop;\n\n				if (scrollPosition >= headerTop) {\n					return header;\n				}\n			}\n\n			return null;\n		}\n\n		function updateActiveLink() {\n			const currentHeader = getCurrentHeader();\n			if (!currentHeader) {\n				clearActiveLinks();\n				return;\n			}\n\n			if (currentActiveLink && currentActiveLink.getAttribute("href") === `#${currentHeader.id}`) {\n				return;\n			}\n\n			clearActiveLinks();\n\n			const correspondingLink = document.querySelector(`.toc-link[href="#${currentHeader.id}"]`);\n			if (correspondingLink) {\n				correspondingLink.classList.add("active");\n				correspondingLink.parentElement.classList.add("active");\n				currentActiveLink = correspondingLink;\n\n				// Expand the section containing this link\n				expandSection(correspondingLink);\n\n				// Collapse inactive sections\n				collapseInactiveSections(correspondingLink);\n\n				// Scroll TOC container\n				const tocContainer = document.querySelector(".overflow-y-auto");\n				if (tocContainer) {\n					const linkRect = correspondingLink.getBoundingClientRect();\n					const containerRect = tocContainer.getBoundingClientRect();\n\n					if (linkRect.bottom > containerRect.bottom || linkRect.top < containerRect.top) {\n						tocContainer.scrollTo({\n							top: correspondingLink.offsetTop - tocContainer.offsetTop - 100,\n							behavior: "smooth",\n						});\n					}\n				}\n			}\n		}\n\n		// Click handlers for TOC links\n		tocLinks.forEach((link) => {\n			link.addEventListener("click", (e) => {\n				e.preventDefault();\n				const targetId = link.getAttribute("href");\n				const targetElement = document.querySelector(targetId);\n\n				if (targetElement) {\n					isProgrammaticScroll = true;\n					window.removeEventListener("scroll", scrollHandler);\n\n					window.scrollTo({\n						top: targetElement.offsetTop - 80,\n						behavior: "smooth",\n					});\n\n					history.pushState(null, null, targetId);\n\n					clearActiveLinks();\n					link.classList.add("active");\n					link.parentElement.classList.add("active");\n					currentActiveLink = link;\n\n					// Expand/collapse sections\n					expandSection(link);\n					collapseInactiveSections(link);\n\n					setTimeout(() => {\n						isProgrammaticScroll = false;\n						window.addEventListener("scroll", scrollHandler);\n					}, 1000);\n				}\n			});\n		});\n\n		// Click handlers for collapse buttons\n		tocCollapseBtns.forEach((btn) => {\n			btn.addEventListener("click", (e) => {\n				e.stopPropagation();\n				const item = btn.closest(".toc-item");\n				const submenu = item.querySelector(".toc-submenu");\n				const arrow = btn.querySelector(".toc-arrow");\n\n				submenu.classList.toggle("hidden");\n				arrow.classList.toggle("rotate-180");\n			});\n		});\n\n		// Debounced scroll handler\n		let isScrolling;\n		function scrollHandler() {\n			window.clearTimeout(isScrolling);\n			isScrolling = setTimeout(() => {\n				if (!isProgrammaticScroll) {\n					updateActiveLink();\n				}\n			}, 10);\n		}\n\n		window.addEventListener("scroll", scrollHandler, { passive: true });\n\n		// Initial setup\n		updateActiveLink();\n\n		// Handle initial hash\n		if (window.location.hash) {\n			const targetElement = document.querySelector(window.location.hash);\n			if (targetElement) {\n				isProgrammaticScroll = true;\n				setTimeout(() => {\n					window.scrollTo({\n						top: targetElement.offsetTop - 80,\n						behavior: "smooth",\n					});\n					updateActiveLink();\n					isProgrammaticScroll = false;\n				}, 500);\n			}\n		}\n	}\n\n	// Enhanced CSS\n	const tocStyles = `\n    .toc-item.active {\n	padding:10px !important;\n        background-color: rgba(37, 99, 235, 0.05);\n    }\n    \n    .toc-link.active {\n        color: #2563eb;\n        font-weight: 600;\n		padding:6px;\n        position: relative;\n    }\n    \n    .toc-link.active::before {\n        content: \'\';\n        position: absolute;\n        left: -8px;\n        top: 50%;\n        transform: translateY(-50%);\n        width: 4px;\n        height: 60%;\n        background-color: #2563eb;\n        border-radius: 2px;\n    }\n    \n    .dark .toc-item.active {\n        background-color: rgba(37, 99, 235, 0.1);\n			padding:10px !important;\n\n    }\n    \n    .dark .toc-link.active {\n        color: #3b82f6;\n		padding:16px 2px !important;\n    }\n    \n    .dark .toc-link.active::before {\n        background-color: #3b82f6;\n				padding:16px 2px !important;\n\n    }\n    \n    .toc-link {\n        transition: color 0.2s ease;\n    }\n    \n    .toc-item {\n        transition: background-color 0.2s ease;\n    }\n    \n    .toc-submenu {\n        transition: max-height 0.3s ease, opacity 0.2s ease;\n    }\n    \n    .toc-arrow {\n        transition: transform 0.2s ease;\n    }\n`;\n\n	// Add styles\n	const styleElement = document.createElement("style");\n	styleElement.textContent = tocStyles;\n	document.head.appendChild(styleElement);\n	// Main function\n	async function loadBlog() {\n		try {\n			// Get the current path\n			const path = window.location.pathname;\n\n			// Extract the slug (more robust method)\n			const slugMatch = path.match(/\\/case-studies\\/([^\\/]+)/);\n\n			if (!slugMatch || !slugMatch[1]) {\n				throw new Error("Invalid blog ID - URL format incorrect");\n			}\n\n			const slug = slugMatch[1].replace(/\\//g, "_").replace(/[:?]/g, "-").trim();\n\n			const data = await fetchBlogData(slug);\n\n			if (data) {\n				bindDataToHtml(data);\n				updateUrl(data[0].page_title);\n\n				// Load related content\n				await Promise.all([\n					fetchBlogRelatedData(data[0].rcont, data[0].styp, data[0].nid),\n					fetchBlogReadNextData(data[0].styp, data[0].styp2 || "0", data[0].nid),\n				]);\n\n				hideSkeletons();\n			} else {\n				throw new Error("Blog not found");\n			}\n		} catch (error) {\n			console.error("Error loading blog:", error);\n			// Show user-friendly error message\n			const errorElement =\n				document.getElementById("blog-title") || document.getElementById("blog-title-main");\n			if (errorElement) {\n				errorElement.textContent =\n					"Sorry, we couldn\'t load this case study. Please try again later.";\n			}\n			hideSkeletons();\n		}\n	}\n\n	// FAQ Accordion toggle logic\n	function bindAccordionToggle() {\n		const headers = document.querySelectorAll(".faq-header");\n		headers.forEach((header) => {\n			header.addEventListener("click", () => {\n				const item = header.parentElement;\n				const isActive = item.classList.contains("active");\n\n				document.querySelectorAll(".faq-item").forEach((el) => {\n					el.classList.remove("active");\n					const h = el.querySelector(".faq-header");\n					h?.setAttribute("aria-expanded", "false");\n				});\n\n				if (!isActive) {\n					item.classList.add("active");\n					header.setAttribute("aria-expanded", "true");\n				}\n			});\n		});\n	}\n\n	// Run this after content is injected\n	document.addEventListener("DOMContentLoaded", () => {\n		loadBlog();\n	});\n\n	// Initialize fade-in effect for sidebar\n	const fadeSection = document.querySelector("[data-fade-in]");\n	if (fadeSection) {\n		window.addEventListener("scroll", () => {\n			if (window.scrollY > 300) {\n				fadeSection.classList.add("visible");\n			}\n		});\n	}\n\n	// Scroll to anchor when page loads\n	function scrollToAnchor() {\n		if (window.location.hash) {\n			const hash = decodeURIComponent(window.location.hash.substring(1));\n			const maxAttempts = 10;\n			let attempts = 0;\n\n			const tryScroll = () => {\n				const targetElement = document.getElementById(hash);\n				if (targetElement) {\n					const headerOffset = 100;\n					const elementPosition = targetElement.getBoundingClientRect().top;\n					const offsetPosition = elementPosition + window.pageYOffset - headerOffset;\n\n					window.scrollTo({\n						top: offsetPosition,\n						behavior: "smooth",\n					});\n\n					targetElement.classList.add("highlight-anchor");\n					setTimeout(() => {\n						targetElement.classList.remove("highlight-anchor");\n					}, 2000);\n				} else if (attempts < maxAttempts) {\n					attempts++;\n					setTimeout(tryScroll, 300);\n				}\n			};\n\n			tryScroll();\n		}\n	}\n\n	// Call this when new content is loaded\n	document.addEventListener("DOMContentLoaded", scrollToAnchor);\n	window.addEventListener("load", scrollToAnchor);\n\n	// Start loading the blog\n	document.addEventListener("DOMContentLoaded", loadBlog);\n	// Initialize on load and hash change\n	document.addEventListener("DOMContentLoaded", () => {\n		// Clean up URLs with trailing slashes\n		if (window.location.pathname.endsWith("/") && window.location.pathname !== "/") {\n			window.history.replaceState(\n				{},\n				"",\n				window.location.pathname.slice(0, -1) + window.location.search + window.location.hash,\n			);\n		}\n\n		// Initial scroll attempt\n		scrollToAnchor();\n\n		// Set up mutation observer to handle dynamic content\n		const observer = new MutationObserver((mutations) => {\n			if (window.location.hash) {\n				scrollToAnchor();\n			}\n		});\n\n		observer.observe(document.body, {\n			childList: true,\n			subtree: true,\n		});\n	});\n\n	window.addEventListener("hashchange", scrollToAnchor);\n<\/script>  '], ["", '  <script>\n	// Function to hide all skeleton loaders and show actual content\n	function hideSkeletons() {\n		// Main content\n		document.getElementById("toc-skeleton")?.classList.add("hidden");\n		document.getElementById("mobile-toc-skeleton")?.classList.add("hidden"); // Add this line\n		document.getElementById("toc-content")?.classList.remove("hidden");\n		document.getElementById("category-skeleton")?.classList.add("hidden");\n		document.getElementById("title-skeleton")?.classList.add("hidden");\n		document.getElementById("image-skeleton")?.classList.add("hidden");\n		document.getElementById("content-skeleton")?.classList.add("hidden");\n		document.getElementById("blog-description")?.classList.remove("hidden");\n		document.getElementById("contenttype")?.classList.remove("hidden");\n		document.getElementById("blog-title-main")?.classList.remove("hidden");\n		document.getElementById("image-container")?.classList.remove("hidden");\n\n		// Sidebar\n		document.getElementById("share-skeleton")?.classList.add("hidden");\n		document.getElementById("product-skeleton")?.classList.add("hidden");\n		document.getElementById("recent-posts-skeleton")?.classList.add("hidden");\n		document.getElementById("sidebar-content")?.classList.remove("hidden");\n\n		// Bottom sections\n		document.getElementById("related-posts-skeleton")?.classList.add("hidden");\n		document.getElementById("comment-skeleton")?.classList.add("hidden");\n		document.getElementById("related-posts-content")?.classList.remove("hidden");\n		document.getElementById("comment-section-content")?.classList.remove("hidden");\n\n		// Show author and date\n		document\n			.querySelectorAll(".description .hidden")\n			.forEach((el) => el.classList.remove("hidden"));\n		// Force mobile TOC to hide if still visible\n		const mobileToc = document.getElementById("mobile-toc-skeleton");\n		if (mobileToc && !mobileToc.classList.contains("hidden")) {\n			mobileToc.classList.add("hidden");\n		}\n	}\n\n	// Extract ID from the URL\n	const url = window.location.href;\n	const blogIndex = url.indexOf("/case-studies//");\n	let afterBlog;\n\n	if (blogIndex !== -1) {\n		afterBlog = url.slice(blogIndex + 6);\n		afterBlog = afterBlog.split("?")[0];\n		afterBlog = afterBlog.replace(/\\\\//g, "_");\n		afterBlog = afterBlog.replace(/[:/]/g, "-");\n		afterBlog = afterBlog.replace(/[?/]/g, "-");\n	}\n	let rcont = 0;\n	let styp = 0;\n	let styp2 = 0;\n	let nid = 0;\n\n	async function fetchBlogData(afterBlog) {\n		try {\n			const response = await fetch(\n				\\`https://adminapi.blackridgeresearch.com/cases/listid/\\${afterBlog}\\`,\n			);\n			if (!response.ok) {\n				throw new Error("Failed to fetch blog data");\n			}\n			const data = await response.json();\n			return data.data;\n		} catch (error) {\n			console.error("Error fetching blog data:", error);\n			return null;\n		}\n	}\n\n	async function fetchBlogReadNextData(styp, styp2, nid) {\n		try {\n			const styp2Param = (styp2 || "0").replace(/\\\\//g, ""); // Remove any slashes\n			const response = await fetch(\n				\\`https://adminapi.blackridgeresearch.com/cases/live/readnext/\\${styp}/\\${styp2Param}/\\${nid}\\`,\n			);\n			if (!response.ok) {\n				throw new Error("Failed to fetch related data");\n			}\n			const data = await response.json();\n			return data;\n		} catch (error) {\n			console.error("Error fetching related data:", error);\n			return null;\n		}\n	}\n	async function fetchBlogRelatedData(rcont, styp, nid) {\n		try {\n			const response = await fetch(\n				\\`https://adminapi.blackridgeresearch.com/cases/live/related/\\${rcont}/\\${styp}/\\${nid}\\`,\n			);\n			if (!response.ok) {\n				throw new Error("Failed to fetch related data");\n			}\n			const data = await response.json();\n			return data;\n		} catch (error) {\n			console.error("Error fetching related data:", error);\n			return null;\n		}\n	}\n\n	// Update the URL\n	function updateUrl(id) {\n		const newUrl = \\`\\${window.location.origin}/case-studies/\\${id}\\`;\n		window.history.replaceState({}, "", newUrl);\n	}\n\n	function injectAccordionThemeCSS() {\n		if (document.getElementById("faq-theme-style")) return;\n\n		const style = document.createElement("style");\n		style.id = "faq-theme-style";\n		style.textContent = \\`\n  .faq-container {\n    display: flex;\n    flex-direction: column;\n    gap: 16px;\n  }\n\n  .faq-item {\n    border-radius: 12px;\n    overflow: hidden;\n    transition: all 0.3s ease;\n    position: relative;\n    background: #ffffff;\n    box-shadow: 0 2px 8px rgba(0, 0, 0, 0.05);\n    border: 1px solid #e5e9f2;\n  }\n\n  .faq-item:hover {\n    box-shadow: 0 4px 16px rgba(0, 97, 255, 0.1);\n    border-color: #0061ff;\n  }\n\n  .faq-header {\n    padding: 24px;\n    cursor: pointer;\n    display: flex;\n    justify-content: space-between;\n    align-items: center;\n    position: relative;\n    transition: all 0.3s ease;\n  }\n\n  .faq-header:hover {\n    background-color: #f7f9fc;\n  }\n\n  .faq-question {\n    font-size: 16px;\n    font-weight: 500;\n    flex: 1;\n    text-align: left;\n    transition: color 0.3s ease;\n    color: #111827;\n  }\n\n    .arrow {\n    width: 20px;\n    height: 20px;\n    display: inline-flex;\n    align-items: center;\n    justify-content: center;\n    margin-left: 16px;\n    transition: transform 0.3s ease;\n    transform-origin: center;\n  }\n\n  .arrow svg {\n    width: 14px !important;\n    height: 14px !important;\n    display: block;\n  }\n\n  .faq-item.active .arrow {\n    transform: rotate(180deg);\n  }\n  .faq-content {\n    overflow: hidden;\n    max-height: 0;\n    transition: max-height 0.4s cubic-bezier(0.4, 0, 0.2, 1);\n  }\n\n  .faq-item.active .faq-content {\n    max-height: 400px;\n  }\n\n  .faq-answer {\n    padding: 20px 24px 24px;\n    font-size: 14px;\n    opacity: 0;\n    transform: translateY(-10px);\n    transition: all 0.3s ease 0.1s;\n    line-height: 1.6;\n    color: #4b5563;\n  }\n\n  .faq-item.active .faq-answer {\n    opacity: 1;\n    transform: translateY(0);\n  }\n\n  .faq-item.active::before {\n    content: \'\';\n    position: absolute;\n    left: 0;\n    top: 0;\n    bottom: 0;\n    width: 4px;\n    background: #0061ff;\n    transform: scaleY(1);\n    transition: transform 0.3s ease;\n  }\n\n  .faq-item::before {\n    content: \'\';\n    position: absolute;\n    left: 0;\n    top: 0;\n    bottom: 0;\n    width: 4px;\n    background: #0061ff;\n    transform: scaleY(0);\n    transition: transform 0.3s ease;\n  }\n\n  .faq-item.active .faq-header {\n    background: rgba(0, 97, 255, 0.05);\n  }\n\n  /* Dark mode */\n  .dark .faq-item {\n    background: #222;\n    border: 1px solid #333;\n    box-shadow: 0 2px 8px rgba(255, 255, 255, 0.05);\n  }\n\n  .dark .faq-header:hover {\n    background-color: #262626;\n  }\n\n  .dark .faq-question {\n    color: #f5f5f5;\n  }\n\n  .dark .faq-answer {\n    color: #b3b3b3;\n  }\n\n  .dark .faq-item.active .faq-header {\n    background: rgba(0, 97, 255, 0.1);\n  }\n\n  @media (max-width: 768px) {\n    .faq-header {\n      padding: 20px;\n    }\n\n    .faq-question {\n      font-size: 16px;\n    }\n\n    .faq-answer {\n      padding: 20px 20px 20px;\n      font-size: 14px;\n    }\n  }\n\n  .faq-header:focus {\n    outline: 2px solid #0061ff;\n    outline-offset: 2px;\n  }\n  \\`;\n		document.head.appendChild(style);\n	}\n\n	function injectFrontendBlockStyles() {\n		if (document.getElementById("frontend-block-style")) return;\n\n		const style = document.createElement("style");\n		style.id = "frontend-block-style";\n		style.textContent = \\`\n    /* --- Frontend NoteBox --- */\n    .note-box {\n      background-color: #e6f0fa;\n      border-left: 4px solid #1e40b0;\n      padding: 16px;\n      margin: 16px 0;\n      border-radius: 4px;\n      font-family: \'Segoe UI\', sans-serif;\n      color: #333;\n    }\n\n    .dark .note-box {\n      background-color: #1d2633;\n      border-left: 4px solid #3b82f5;\n      color: #e5e7eb;\n    }\n\n    /* --- Frontend CTA Box --- */\n    .cta-box {\n      background-color: #ffffff;\n      border: 1px solid #d1d5db;\n      border-left: 4px solid #2563eb;\n      padding: 1.5rem;\n      margin: 1.5rem 0;\n      border-radius: 0.5rem;\n      box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);\n      font-family: \'Segoe UI\', sans-serif;\n      color: #1f2937;\n    }\n\n    .dark .cta-box {\n      background-color: #1e2a44;\n      border: 1px solid #374151;\n      border-left: 4px solid #3b82f6;\n      color: #e5e7eb;\n    }\n\n    .cta-box p {\n      margin: 0 0 0.75rem 0;\n      font-size: 1rem;\n      line-height: 1.5;\n    }\n\n    .cta-box p.cta-header-row {\n      display: flex;\n      justify-content: space-between;\n      align-items: center;\n      margin-bottom: 0.75rem;\n    }\n\n    .cta-box p.cta-header-row span:first-child {\n      font-size: 1.25rem;\n      font-weight: 700;\n      color: #000000;\n    }\n\n    .dark .cta-box p.cta-header-row span:first-child {\n      color: #ffffff;\n    }\n\n    .cta-box a.cta-button {\n      display: inline-flex;\n      align-items: center;\n      margin: 0.75rem 0;\n      background-color: #3b82f6;\n      color: white;\n      padding: 0.75rem 1.5rem;\n      border-radius: 0.375rem;\n      font-weight: 600;\n      font-size: 1rem;\n      text-decoration: none;\n      transition: background-color 0.2s ease;\n    }\n\n    .cta-box a.cta-button:hover {\n      background-color: #2563eb;\n    }\n  \\`;\n		document.head.appendChild(style);\n	}\n\n	// Bind data to HTML\n	function bindDataToHtml(data) {\n		if (!data || !data.length) return;\n		setTimeout(setupTocHighlighting, 50);\n\n		styp = data[0].styp;\n		styp2 = data[0].styp2 || "NA";\n		nid = data[0].nid;\n		rcont = data[0].rcont;\n\n		// Update content\n		document.getElementById("blog-title").textContent = data[0].title;\n		document.getElementById("blog-title-main").textContent = data[0].title;\n		document.getElementById("blog-image").src =\n			"https://adminapi.blackridgeresearch.com/uploads/" + data[0].image_name;\n		document.getElementById("blog-image").alt = data[0].title;\n		document.getElementById("blog-description").innerHTML = data[0].description.replace(\n			/\\\\r?\\\\n/g,\n			"<br>",\n		);\n\n		// Update content type\n		const contentTypeElement = document.getElementById("contenttype");\n		if (contentTypeElement) {\n			contentTypeElement.textContent = data[0].styp2 || data[0].styp || "NA";\n		}\n\n		// Format date\n		const createdDate = new Date(data[0].last_updated);\n		const months = [\n			"January",\n			"February",\n			"March",\n			"April",\n			"May",\n			"June",\n			"July",\n			"August",\n			"September",\n			"October",\n			"November",\n			"December",\n		];\n		const formattedDate = \\`\\${months[createdDate.getMonth()]} \\${createdDate.getDate()}, \\${createdDate.getFullYear()}\\`;\n\n		const dateElement = document.getElementById("lastupdated-on");\n		if (dateElement) {\n			dateElement.textContent = formattedDate;\n		}\n\n		// Process tables\n		const blogDescriptionElement = document.getElementById("blog-description");\n		if (blogDescriptionElement) {\n			const tables = document.querySelectorAll("table");\n\n			tables.forEach((table) => {\n				// Create scrolling wrapper\n				const wrapper = document.createElement("div");\n				wrapper.classList.add("overflow-x-auto", "w-full", "rounded-lg", "shadow-md", "my-6");\n\n				// Basic table styling\n				table.classList.add(\n					"w-full",\n					"border-collapse",\n					"text-sm",\n					"font-sans",\n					"min-w-[600px]",\n					"m-0",\n					"border", // Add outer border\n					"!border-gray-200", // Light mode border color\n					"!dark:border-[#374151]", // Dark mode border color\n					"rounded-lg", // Rounded corners\n					"overflow-hidden", // Ensure rounded corners work\n					"not-prose",\n				);\n\n				// Add border styling to cells\n				const allCells = table.querySelectorAll("th, td");\n				allCells.forEach((cell) => {\n					cell.classList.add(\n						"border-x",\n						"border-gray-200", // Light mode border\n						"dark:border-[#374151]", // Dark mode border\n						"px-4",\n						"py-3",\n					);\n				});\n\n				// Special border treatment for header\n				const headerCells = table.querySelectorAll("th");\n				headerCells.forEach((headerCell) => {\n					headerCell.classList.add(\n						"border-b-2", // Thicker bottom border\n						"border-gray-300", // Light mode\n						"dark:border-gray-600", // Dark mode\n						"!uppercase",\n						"!text-white",\n						"!tracking-wider",\n						"!font-medium",\n					);\n				});\n\n				// Special border treatment for last row\n				const lastRow = table.querySelector("tr:last-child");\n				if (lastRow) {\n					const lastRowCells = lastRow.querySelectorAll("td");\n					lastRowCells.forEach((cell) => {\n						cell.classList.add(\n							"border-b-0", // Remove bottom border for last row\n						);\n					});\n				}\n\n				// Insert wrapper\n				table.parentNode.insertBefore(wrapper, table);\n				wrapper.appendChild(table);\n\n				// Style header row\n				const headerRow = table.querySelector("tr:first-child");\n				if (headerRow) {\n					headerRow.classList.add(\n						"!bg-[#2563EB]", // Deep blue in light mode\n						"!text-white", // White text\n						"dark:!bg-[#1E40AF]", // Dark navy in dark mode\n						"!border-blue-700",\n						"not-prose",\n					);\n\n					headerRow.querySelectorAll("th, td").forEach((cell) => {\n						cell.classList.add(\n							"px-4",\n							"py-3",\n							"font-bold",\n							"text-base",\n							"text-left",\n							"border-b",\n							"border-gray-200",\n							"dark:border-gray-700",\n							"not-prose",\n\n							// "border-[#ffffff30]",\n						);\n					});\n				}\n\n				// Style body rows\n				const rows = table.querySelectorAll("tr:not(:first-child)");\n				rows.forEach((row, index) => {\n					// Light mode colors\n					const lightBg = index % 2 === 0 ? "!bg-[#f8fafc]" : "!bg-[#e9ecef]";\n\n					// Dark mode colors\n					const darkBg = index % 2 === 0 ? "dark:!bg-[#111827]" : "dark:!bg-[#030712]";\n\n					row.classList.add(\n						lightBg,\n						darkBg,\n						"hover:!bg-[#e2e8f0]", // Light mode hover\n						"dark:hover:!bg-[#1F2937]", // Dark mode hover\n						"transition-colors",\n						"duration-200",\n					);\n\n					// Style all cells\n					row.querySelectorAll("td").forEach((cell) => {\n						cell.classList.add(\n							"px-4",\n							"py-3",\n							"text-sm",\n							"!text-[#1e293b]", // Dark text in light mode\n							"dark:!text-[#f8fafc]", // Light text in dark mode\n							"border-b",\n							"border-[#00000010]",\n							"dark:border-[#ffffff10]",\n						);\n					});\n\n					// Style specific columns\n					// const rankCell = row.querySelector("td:first-child");\n					// const companyCell = row.querySelector("td:nth-child(1)");\n					// const capacityCell = row.querySelector("td:last-child");\n\n					// if (rankCell)\n					// 	rankCell.classList.add("font-semibold", "text-[#0c1071]", "!dark:text-[#0c1071]");\n					// if (companyCell)\n					// 	companyCell.classList.add("font-medium", "!text-[#0c1071]", "!dark:text-[#0c1071]");\n					// if (capacityCell) {\n					// 	capacityCell.classList.add(\n					// 		"font-bold",\n					// 		"!text-[#2563eb]", // Blue in light mode\n					// 		"dark:!text-[#60a5fa]", // Lighter blue in dark mode\n					// 	);\n					// }\n				});\n			});\n\n			const ctaBoxes = blogDescriptionElement.querySelectorAll(".cta-box");\n\n			ctaBoxes.forEach((ctaBox) => {\n				// Main Container\n				ctaBox.className =\n					"w-full my-6 p-4 bg-white dark:bg-gray-800 border-l-4 border-blue-600 dark:border-blue-500 rounded-lg shadow-md";\n\n				// \u2B50 Star Ratings\n				const ratingBlock = ctaBox.querySelector("p:has(svg)");\n\n				if (ratingBlock) {\n					ratingBlock.classList.add("flex", "items-center", "justify-end");\n\n					// Optional: Add classes to each star\n					ratingBlock.querySelectorAll("svg").forEach((svg) => {\n						svg.classList.add("w-5", "h-5", "fill-current", "text-yellow-400");\n					});\n\n					// Optional: Style the reviews count\n					const reviewText = ratingBlock.querySelector("em");\n					if (reviewText) {\n						reviewText.classList.add(\n							"ml-2",\n							"text-sm",\n							"text-gray-500",\n							"italic",\n							"dark:text-gray-400",\n						);\n					}\n				}\n\n				// Heading\n				const heading = ctaBox.querySelector("strong");\n				if (heading) {\n					heading.className = "block text-xl font-bold mb-3 text-gray-800 dark:text-white";\n					if (heading.parentElement.tagName === "P") {\n						heading.parentElement.className = "mb-3";\n					}\n				}\n\n				// Description\n				const description = [...ctaBox.querySelectorAll("p")].find(\n					(p) =>\n						p.textContent.trim() &&\n						!p.querySelector("a") &&\n						!p.querySelector("strong") &&\n						!p.querySelector(".star-icon"),\n				);\n				if (description) description.className = "text-gray-600 dark:text-gray-300 mb-4";\n\n				// CTA Button\n				const button = ctaBox.querySelector(".cta-button");\n				if (button) {\n					button.className =\n						"inline-flex items-center px-6 py-3 bg-blue-600 hover:bg-blue-700 text-white font-medium rounded-md transition-colors duration-200 mb-4";\n					if (!button.querySelector("svg")) {\n						button.innerHTML += \\`\n<svg class="w-5 h-5 ml-2" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">\n<path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M14 5l7 7m0 0l-7 7m7-7H3"></path>\n</svg>\\`;\n					} else {\n						const icon = button.querySelector("svg");\n						icon.className = "w-5 h-5 ml-2";\n					}\n				}\n\n				// Feature Icons\n				const features = ctaBox.querySelector("p:has(.feature-icon-first)");\n				if (features) {\n					features.className = "flex flex-wrap gap-1 text-sm";\n					ctaBox.querySelectorAll(".feature-icon-first, .feature-icon-second").forEach((icon) => {\n						const svg = icon.querySelector("svg");\n						if (svg) svg.className = "w-4 h-4 mr-1 text-blue-500";\n\n						const textNodes = [...icon.parentNode.childNodes].filter(\n							(n) => n.nodeType === 3 && n.textContent.trim(),\n						);\n						textNodes.forEach((textNode) => {\n							const span = document.createElement("span");\n							span.className = "flex items-center text-gray-600 dark:text-gray-300";\n							span.textContent = textNode.textContent;\n							textNode.replaceWith(span);\n						});\n					});\n				}\n\n				// Joined by Section\n				const joinedText = [...ctaBox.querySelectorAll("em")].find((em) =>\n					em.textContent.includes("Joined by"),\n				);\n				if (joinedText) {\n					const joinedContainer = joinedText.parentElement;\n					joinedContainer.className =\n						"flex items-center  text-sm text-gray-500 dark:text-gray-400 italic";\n\n					const avatars = document.createElement("div");\n					avatars.className = "flex -space-x-2 mr-2";\n\n					ctaBox.querySelectorAll(".avatar-icon").forEach(() => {\n						const img = document.createElement("img");\n						img.src = "https://randomuser.me/api/portraits/women/44.jpg";\n						img.alt = "User";\n						img.className =\n							"w-8 h-8 rounded-full border-2 border-white dark:border-gray-800 object-cover !mt-0 !mb-0";\n						img.onerror = function () {\n							this.onerror = null;\n							this.src = "https://www.gravatar.com/avatar/default?s=200&d=mp";\n						};\n\n						const wrapper = document.createElement("div");\n						wrapper.className = "relative inline-block";\n\n						wrapper.appendChild(img);\n						avatars.appendChild(wrapper);\n					});\n\n					if (!joinedContainer.querySelector("img")) {\n						joinedContainer.insertBefore(avatars, joinedText);\n					}\n				}\n			});\n\n			const images = blogDescriptionElement.querySelectorAll("img");\n			images.forEach((img) => {\n				// Remove inline width/height styles\n				img.style.width = "";\n				img.style.height = "";\n				// Remove width/height attributes\n				img.removeAttribute("width");\n				img.removeAttribute("height");\n				// Add responsive class\n				img.classList.add("resizable-image");\n			});\n\n			// Process headers for TOC and add copy link buttons\n			const headers = ["h2", "h3", "h4", "h5", "h6"];\n			const availableHeaders = headers.filter((header) =>\n				blogDescriptionElement.querySelector(header),\n			);\n\n			if (availableHeaders.length > 0) {\n				const mainHeader = availableHeaders[0];\n				const tocData = [];\n				const counters = [0, 0, 0, 0, 0];\n\n				// Process headers\n				blogDescriptionElement.querySelectorAll(mainHeader).forEach((mainHeaderElement) => {\n					const currentLevel =\n						availableHeaders.indexOf(mainHeaderElement.tagName.toLowerCase()) + 1;\n					counters[currentLevel - 1]++;\n\n					for (let i = currentLevel; i < counters.length; i++) {\n						counters[i] = 0;\n					}\n\n					const headerText = mainHeaderElement.textContent.trim();\n\n					// Generate clean ID\n					const headerId = headerText\n						.toLowerCase()\n						.replace(/\\\\s+/g, "-")\n						.replace(/[^\\\\w-]/g, "")\n						.replace(/-+/g, "-")\n						.replace(/^-+/, "")\n						.replace(/-+$/, "");\n\n					mainHeaderElement.id = headerId;\n\n					// Generate numbering (e.g., "1" or "1.2")\n					let numbering = "";\n					for (let i = 0; i < currentLevel; i++) {\n						if (i > 0) numbering += ".";\n						numbering += counters[i];\n					}\n\n					// Update header text with numbering\n					mainHeaderElement.textContent = \\`\\${numbering}. \\${headerText.replace(/^\\\\d+(\\\\.\\\\d+)*\\\\.?\\\\s*/, "")}\\`;\n\n					// Create copy link button (for headers only, not for TOC)\n					const copyLinkBtn = document.createElement("button");\n					copyLinkBtn.innerHTML = \\`\n            <svg viewBox="0 0 24 24" class="size-6" fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2">\n                <path d="M0 0h24v24H0z" stroke="none"></path>\n                <path d="m9 15 6-6M11 6l.463-.536a5 5 0 0 1 7.071 7.072L18 13M13 18l-.397.534a5.068 5.068 0 0 1-7.127 0 4.972 4.972 0 0 1 0-7.071L6 11"></path>\n            </svg>\n        \\`;\n					copyLinkBtn.classList.add(\n						"copy-link-btn",\n						"ml-2",\n						"opacity-0",\n						"transition-opacity",\n						"duration-200",\n						"inline-flex",\n						"items-center",\n						"justify-center",\n						"w-6",\n						"h-6",\n						"rounded",\n						"hover:bg-gray-100",\n						"dark:hover:bg-gray-700",\n					);\n					copyLinkBtn.title = "Copy link to this section";\n\n					// Copy link functionality (for headers only)\n					copyLinkBtn.addEventListener("click", (e) => {\n						e.preventDefault();\n						e.stopPropagation();\n\n						const url = new URL(window.location.href);\n						url.hash = headerId;\n						const link = url.toString();\n\n						navigator.clipboard.writeText(link).then(() => {\n							const originalHTML = copyLinkBtn.innerHTML;\n							copyLinkBtn.innerHTML = \\`\n                    <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">\n                        <path d="M20 6L9 17l-5-5"></path>\n                    </svg>\n                \\`;\n							copyLinkBtn.classList.add("text-green-500");\n\n							setTimeout(() => {\n								copyLinkBtn.innerHTML = originalHTML;\n								copyLinkBtn.classList.remove("text-green-500");\n							}, 2000);\n						});\n					});\n\n					// Add hover effects to header\n					mainHeaderElement.classList.add("group", "flex", "items-center");\n					mainHeaderElement.appendChild(copyLinkBtn);\n\n					mainHeaderElement.addEventListener("mouseenter", () => {\n						copyLinkBtn.classList.remove("opacity-0");\n						copyLinkBtn.classList.add("opacity-100");\n					});\n\n					mainHeaderElement.addEventListener("mouseleave", () => {\n						copyLinkBtn.classList.remove("opacity-100");\n						copyLinkBtn.classList.add("opacity-0");\n					});\n\n					tocData.push({\n						text: mainHeaderElement.textContent,\n						id: headerId,\n						level: currentLevel,\n					});\n\n					// Process subheaders\n					let nextElement = mainHeaderElement.nextElementSibling;\n					while (nextElement && !nextElement.matches(mainHeader)) {\n						if (availableHeaders.includes(nextElement.tagName.toLowerCase())) {\n							const subLevel = availableHeaders.indexOf(nextElement.tagName.toLowerCase()) + 1;\n							counters[subLevel - 1]++;\n\n							for (let i = subLevel; i < counters.length; i++) {\n								counters[i] = 0;\n							}\n\n							const subHeaderText = nextElement.textContent.trim();\n							const subHeaderId = subHeaderText\n								.toLowerCase()\n								.replace(/\\\\s+/g, "-")\n								.replace(/&/g, "-and-")\n								.replace(/[()]/g, "")\n								.replace(/[^\\\\w-]/g, "")\n								.replace(/-+/g, "-")\n								.replace(/^-+/, "")\n								.replace(/-+$/, "");\n\n							let subNumbering = "";\n							for (let i = 0; i < subLevel; i++) {\n								if (i > 0) subNumbering += ".";\n								subNumbering += counters[i];\n							}\n\n							nextElement.textContent = \\`\\${subNumbering}. \\${subHeaderText.replace(/^\\\\d+(\\\\.\\\\d+)*\\\\.?\\\\s*/, "")}\\`;\n							nextElement.id = subHeaderId;\n\n							// Add copy button to subheaders (for headers only, not for TOC)\n							const subCopyLinkBtn = copyLinkBtn.cloneNode(true);\n							subCopyLinkBtn.addEventListener("click", (e) => {\n								e.preventDefault();\n								e.stopPropagation();\n\n								let url = window.location.href;\n								if (url.endsWith("/")) {\n									url = url.slice(0, -1);\n								}\n\n								const link = \\`\\${url}#\\${subHeaderId}\\`;\n\n								navigator.clipboard.writeText(link).then(() => {\n									const originalHTML = subCopyLinkBtn.innerHTML;\n									subCopyLinkBtn.innerHTML = \\`\n                            <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">\n                                <path d="M20 6L9 17l-5-5"></path>\n                            </svg>\n                        \\`;\n									subCopyLinkBtn.classList.add("text-green-500");\n\n									setTimeout(() => {\n										subCopyLinkBtn.innerHTML = originalHTML;\n										subCopyLinkBtn.classList.remove("text-green-500");\n									}, 2000);\n								});\n							});\n\n							nextElement.classList.add("group", "flex", "items-center");\n							nextElement.appendChild(subCopyLinkBtn);\n\n							nextElement.addEventListener("mouseenter", () => {\n								subCopyLinkBtn.classList.remove("opacity-0");\n								subCopyLinkBtn.classList.add("opacity-100");\n							});\n\n							nextElement.addEventListener("mouseleave", () => {\n								subCopyLinkBtn.classList.remove("opacity-100");\n								subCopyLinkBtn.classList.add("opacity-0");\n							});\n\n							tocData.push({\n								text: nextElement.textContent,\n								id: subHeaderId,\n								level: subLevel,\n							});\n						}\n						nextElement = nextElement.nextElementSibling;\n					}\n				});\n\n				// Generate TOC HTML with collapsible sections (without copy links)\n				let tocHTML = "";\n				let currentLevel = 0;\n				let hasChildren = false;\n\n				tocData.forEach((item, index) => {\n					// Close previous lists if needed\n					while (currentLevel > item.level) {\n						tocHTML += "</ul></li>";\n						currentLevel--;\n					}\n\n					// Check if this item has children\n					const nextItem = tocData[index + 1];\n					hasChildren = nextItem && nextItem.level > item.level;\n\n					// Add list item with collapsible functionality if it has children\n					if (hasChildren) {\n						tocHTML += \\`\n                <li class="toc-item" data-level="\\${item.level}">\n                    <div class="toc-header flex items-center justify-between">\n                        <a href="#\\${item.id}" class="toc-link transition hover:text-primary-600 dark:hover:text-primary-400">\n                            \\${item.text}\n                        </a>\n                        <button class="toc-collapse-btn ml-1 p-1 rounded hover:bg-gray-100 dark:hover:bg-gray-700">\n                            <svg class="toc-arrow w-4 h-4 transform transition-transform duration-200" viewBox="0 0 20 20" fill="currentColor">\n                                <path fill-rule="evenodd" d="M5.293 7.293a1 1 0 011.414 0L10 10.586l3.293-3.293a1 1 0 111.414 1.414l-4 4a1 1 0 01-1.414 0l-4-4a1 1 0 010-1.414z" clip-rule="evenodd" />\n                            </svg>\n                        </button>\n                    </div>\n                    <ul class="toc-submenu hidden pl-4">\n            \\`;\n					} else {\n						tocHTML += \\`\n                <li class="toc-item" data-level="\\${item.level}">\n                    <a href="#\\${item.id}" class="toc-link transition hover:text-primary-600 dark:hover:text-primary-400">\n                        \\${item.text}\n                    </a>\n                \\${nextItem && nextItem.level < item.level ? "</ul></li>" : "</li>"}\n            \\`;\n					}\n\n					currentLevel = item.level;\n				});\n\n				// Close any remaining lists\n				while (currentLevel > 0) {\n					tocHTML += "</ul></li>";\n					currentLevel--;\n				}\n\n				const tocElement = document.getElementById("show-h3list");\n				if (tocElement) {\n					tocElement.innerHTML = tocHTML;\n\n					// Add click handlers for collapsible sections\n					document.querySelectorAll(".toc-collapse-btn").forEach((button) => {\n						button.addEventListener("click", (e) => {\n							e.preventDefault();\n							e.stopPropagation();\n\n							const submenu = button.closest(".toc-item").querySelector(".toc-submenu");\n							const arrow = button.querySelector(".toc-arrow");\n\n							submenu.classList.toggle("hidden");\n							arrow.classList.toggle("rotate-180");\n						});\n					});\n				}\n			}\n		}\n		addExternalLinkIcons();\n		injectAccordionThemeCSS();\n		injectFrontendBlockStyles();\n		bindAccordionToggle();\n		// Hide skeletons and show content\n		hideSkeletons();\n	}\n\n	function addExternalLinkIcons() {\n		const blogDescription = document.getElementById("blog-description");\n		if (!blogDescription) return;\n\n		const externalLinks = blogDescription.querySelectorAll(\'a[target="_blank"]\');\n\n		externalLinks.forEach((link) => {\n			// Check if icon already exists\n			if (link.querySelector(".external-link-icon")) return;\n\n			const svg = document.createElementNS("http://www.w3.org/2000/svg", "svg");\n			svg.setAttribute("class", "external-link-icon");\n			svg.setAttribute("xmlns", "http://www.w3.org/2000/svg");\n			svg.setAttribute("fill", "none");\n			svg.setAttribute("stroke", "currentColor");\n			svg.setAttribute("stroke-width", "2");\n			svg.setAttribute("viewBox", "0 0 24 24");\n			svg.style.width = "16px";\n			svg.style.height = "16px";\n			svg.style.marginLeft = "4px";\n			svg.style.marginRight = "4px";\n			svg.style.verticalAlign = "middle";\n			svg.style.display = "inline-block";\n\n			const path1 = document.createElementNS("http://www.w3.org/2000/svg", "path");\n			path1.setAttribute("d", "M18 13v6a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6");\n\n			const polyline = document.createElementNS("http://www.w3.org/2000/svg", "polyline");\n			polyline.setAttribute("points", "15 3 21 3 21 9");\n\n			const line = document.createElementNS("http://www.w3.org/2000/svg", "line");\n			line.setAttribute("x1", "10");\n			line.setAttribute("y1", "14");\n			line.setAttribute("x2", "21");\n			line.setAttribute("y2", "3");\n\n			svg.appendChild(path1);\n			svg.appendChild(polyline);\n			svg.appendChild(line);\n\n			link.appendChild(svg);\n		});\n	}\n\n	// Add this function to handle TOC highlighting\n	function setupTocHighlighting() {\n		const tocLinks = document.querySelectorAll(".toc-link");\n		const headers = Array.from(document.querySelectorAll("h2, h3, h4, h5, h6")).filter((h) => h.id);\n		const tocCollapseBtns = document.querySelectorAll(".toc-collapse-btn");\n\n		if (!tocLinks.length || !headers.length) return;\n\n		let currentActiveLink = null;\n		let isProgrammaticScroll = false;\n\n		// Expand a TOC section\n		function expandSection(link) {\n			const parentItem = link.closest(".toc-item");\n			if (parentItem && parentItem.querySelector(".toc-submenu")) {\n				const submenu = parentItem.querySelector(".toc-submenu");\n				const collapseBtn = parentItem.querySelector(".toc-collapse-btn");\n				if (submenu.classList.contains("hidden")) {\n					submenu.classList.remove("hidden");\n					if (collapseBtn) {\n						collapseBtn.querySelector(".toc-arrow").classList.add("rotate-180");\n					}\n				}\n			}\n		}\n\n		// Collapse all sections except the active one\'s ancestors\n		function collapseInactiveSections(activeLink) {\n			const activeParents = [];\n			let current = activeLink;\n\n			// Get all parent items of the active link\n			while (current) {\n				current = current.closest(".toc-item");\n				if (current) {\n					activeParents.push(current);\n					current = current.parentElement.closest(".toc-item");\n				}\n			}\n\n			// Collapse all items not in activeParents hierarchy\n			document.querySelectorAll(".toc-item").forEach((item) => {\n				if (!activeParents.includes(item) && item !== activeLink?.closest(".toc-item")) {\n					const submenu = item.querySelector(".toc-submenu");\n					const collapseBtn = item.querySelector(".toc-collapse-btn");\n					if (submenu && !submenu.classList.contains("hidden")) {\n						submenu.classList.add("hidden");\n						if (collapseBtn) {\n							collapseBtn.querySelector(".toc-arrow").classList.remove("rotate-180");\n						}\n					}\n				}\n			});\n		}\n\n		function clearActiveLinks() {\n			tocLinks.forEach((link) => {\n				link.classList.remove("active");\n				link.parentElement.classList.remove("active");\n			});\n		}\n\n		function getCurrentHeader() {\n			if (isProgrammaticScroll) return null;\n\n			const scrollPosition = window.scrollY + 100;\n\n			if (window.innerHeight + window.scrollY >= document.body.offsetHeight - 100) {\n				return headers[headers.length - 1];\n			}\n\n			for (let i = headers.length - 1; i >= 0; i--) {\n				const header = headers[i];\n				const headerTop = header.offsetTop;\n\n				if (scrollPosition >= headerTop) {\n					return header;\n				}\n			}\n\n			return null;\n		}\n\n		function updateActiveLink() {\n			const currentHeader = getCurrentHeader();\n			if (!currentHeader) {\n				clearActiveLinks();\n				return;\n			}\n\n			if (currentActiveLink && currentActiveLink.getAttribute("href") === \\`#\\${currentHeader.id}\\`) {\n				return;\n			}\n\n			clearActiveLinks();\n\n			const correspondingLink = document.querySelector(\\`.toc-link[href="#\\${currentHeader.id}"]\\`);\n			if (correspondingLink) {\n				correspondingLink.classList.add("active");\n				correspondingLink.parentElement.classList.add("active");\n				currentActiveLink = correspondingLink;\n\n				// Expand the section containing this link\n				expandSection(correspondingLink);\n\n				// Collapse inactive sections\n				collapseInactiveSections(correspondingLink);\n\n				// Scroll TOC container\n				const tocContainer = document.querySelector(".overflow-y-auto");\n				if (tocContainer) {\n					const linkRect = correspondingLink.getBoundingClientRect();\n					const containerRect = tocContainer.getBoundingClientRect();\n\n					if (linkRect.bottom > containerRect.bottom || linkRect.top < containerRect.top) {\n						tocContainer.scrollTo({\n							top: correspondingLink.offsetTop - tocContainer.offsetTop - 100,\n							behavior: "smooth",\n						});\n					}\n				}\n			}\n		}\n\n		// Click handlers for TOC links\n		tocLinks.forEach((link) => {\n			link.addEventListener("click", (e) => {\n				e.preventDefault();\n				const targetId = link.getAttribute("href");\n				const targetElement = document.querySelector(targetId);\n\n				if (targetElement) {\n					isProgrammaticScroll = true;\n					window.removeEventListener("scroll", scrollHandler);\n\n					window.scrollTo({\n						top: targetElement.offsetTop - 80,\n						behavior: "smooth",\n					});\n\n					history.pushState(null, null, targetId);\n\n					clearActiveLinks();\n					link.classList.add("active");\n					link.parentElement.classList.add("active");\n					currentActiveLink = link;\n\n					// Expand/collapse sections\n					expandSection(link);\n					collapseInactiveSections(link);\n\n					setTimeout(() => {\n						isProgrammaticScroll = false;\n						window.addEventListener("scroll", scrollHandler);\n					}, 1000);\n				}\n			});\n		});\n\n		// Click handlers for collapse buttons\n		tocCollapseBtns.forEach((btn) => {\n			btn.addEventListener("click", (e) => {\n				e.stopPropagation();\n				const item = btn.closest(".toc-item");\n				const submenu = item.querySelector(".toc-submenu");\n				const arrow = btn.querySelector(".toc-arrow");\n\n				submenu.classList.toggle("hidden");\n				arrow.classList.toggle("rotate-180");\n			});\n		});\n\n		// Debounced scroll handler\n		let isScrolling;\n		function scrollHandler() {\n			window.clearTimeout(isScrolling);\n			isScrolling = setTimeout(() => {\n				if (!isProgrammaticScroll) {\n					updateActiveLink();\n				}\n			}, 10);\n		}\n\n		window.addEventListener("scroll", scrollHandler, { passive: true });\n\n		// Initial setup\n		updateActiveLink();\n\n		// Handle initial hash\n		if (window.location.hash) {\n			const targetElement = document.querySelector(window.location.hash);\n			if (targetElement) {\n				isProgrammaticScroll = true;\n				setTimeout(() => {\n					window.scrollTo({\n						top: targetElement.offsetTop - 80,\n						behavior: "smooth",\n					});\n					updateActiveLink();\n					isProgrammaticScroll = false;\n				}, 500);\n			}\n		}\n	}\n\n	// Enhanced CSS\n	const tocStyles = \\`\n    .toc-item.active {\n	padding:10px !important;\n        background-color: rgba(37, 99, 235, 0.05);\n    }\n    \n    .toc-link.active {\n        color: #2563eb;\n        font-weight: 600;\n		padding:6px;\n        position: relative;\n    }\n    \n    .toc-link.active::before {\n        content: \'\';\n        position: absolute;\n        left: -8px;\n        top: 50%;\n        transform: translateY(-50%);\n        width: 4px;\n        height: 60%;\n        background-color: #2563eb;\n        border-radius: 2px;\n    }\n    \n    .dark .toc-item.active {\n        background-color: rgba(37, 99, 235, 0.1);\n			padding:10px !important;\n\n    }\n    \n    .dark .toc-link.active {\n        color: #3b82f6;\n		padding:16px 2px !important;\n    }\n    \n    .dark .toc-link.active::before {\n        background-color: #3b82f6;\n				padding:16px 2px !important;\n\n    }\n    \n    .toc-link {\n        transition: color 0.2s ease;\n    }\n    \n    .toc-item {\n        transition: background-color 0.2s ease;\n    }\n    \n    .toc-submenu {\n        transition: max-height 0.3s ease, opacity 0.2s ease;\n    }\n    \n    .toc-arrow {\n        transition: transform 0.2s ease;\n    }\n\\`;\n\n	// Add styles\n	const styleElement = document.createElement("style");\n	styleElement.textContent = tocStyles;\n	document.head.appendChild(styleElement);\n	// Main function\n	async function loadBlog() {\n		try {\n			// Get the current path\n			const path = window.location.pathname;\n\n			// Extract the slug (more robust method)\n			const slugMatch = path.match(/\\\\/case-studies\\\\/([^\\\\/]+)/);\n\n			if (!slugMatch || !slugMatch[1]) {\n				throw new Error("Invalid blog ID - URL format incorrect");\n			}\n\n			const slug = slugMatch[1].replace(/\\\\//g, "_").replace(/[:?]/g, "-").trim();\n\n			const data = await fetchBlogData(slug);\n\n			if (data) {\n				bindDataToHtml(data);\n				updateUrl(data[0].page_title);\n\n				// Load related content\n				await Promise.all([\n					fetchBlogRelatedData(data[0].rcont, data[0].styp, data[0].nid),\n					fetchBlogReadNextData(data[0].styp, data[0].styp2 || "0", data[0].nid),\n				]);\n\n				hideSkeletons();\n			} else {\n				throw new Error("Blog not found");\n			}\n		} catch (error) {\n			console.error("Error loading blog:", error);\n			// Show user-friendly error message\n			const errorElement =\n				document.getElementById("blog-title") || document.getElementById("blog-title-main");\n			if (errorElement) {\n				errorElement.textContent =\n					"Sorry, we couldn\'t load this case study. Please try again later.";\n			}\n			hideSkeletons();\n		}\n	}\n\n	// FAQ Accordion toggle logic\n	function bindAccordionToggle() {\n		const headers = document.querySelectorAll(".faq-header");\n		headers.forEach((header) => {\n			header.addEventListener("click", () => {\n				const item = header.parentElement;\n				const isActive = item.classList.contains("active");\n\n				document.querySelectorAll(".faq-item").forEach((el) => {\n					el.classList.remove("active");\n					const h = el.querySelector(".faq-header");\n					h?.setAttribute("aria-expanded", "false");\n				});\n\n				if (!isActive) {\n					item.classList.add("active");\n					header.setAttribute("aria-expanded", "true");\n				}\n			});\n		});\n	}\n\n	// Run this after content is injected\n	document.addEventListener("DOMContentLoaded", () => {\n		loadBlog();\n	});\n\n	// Initialize fade-in effect for sidebar\n	const fadeSection = document.querySelector("[data-fade-in]");\n	if (fadeSection) {\n		window.addEventListener("scroll", () => {\n			if (window.scrollY > 300) {\n				fadeSection.classList.add("visible");\n			}\n		});\n	}\n\n	// Scroll to anchor when page loads\n	function scrollToAnchor() {\n		if (window.location.hash) {\n			const hash = decodeURIComponent(window.location.hash.substring(1));\n			const maxAttempts = 10;\n			let attempts = 0;\n\n			const tryScroll = () => {\n				const targetElement = document.getElementById(hash);\n				if (targetElement) {\n					const headerOffset = 100;\n					const elementPosition = targetElement.getBoundingClientRect().top;\n					const offsetPosition = elementPosition + window.pageYOffset - headerOffset;\n\n					window.scrollTo({\n						top: offsetPosition,\n						behavior: "smooth",\n					});\n\n					targetElement.classList.add("highlight-anchor");\n					setTimeout(() => {\n						targetElement.classList.remove("highlight-anchor");\n					}, 2000);\n				} else if (attempts < maxAttempts) {\n					attempts++;\n					setTimeout(tryScroll, 300);\n				}\n			};\n\n			tryScroll();\n		}\n	}\n\n	// Call this when new content is loaded\n	document.addEventListener("DOMContentLoaded", scrollToAnchor);\n	window.addEventListener("load", scrollToAnchor);\n\n	// Start loading the blog\n	document.addEventListener("DOMContentLoaded", loadBlog);\n	// Initialize on load and hash change\n	document.addEventListener("DOMContentLoaded", () => {\n		// Clean up URLs with trailing slashes\n		if (window.location.pathname.endsWith("/") && window.location.pathname !== "/") {\n			window.history.replaceState(\n				{},\n				"",\n				window.location.pathname.slice(0, -1) + window.location.search + window.location.hash,\n			);\n		}\n\n		// Initial scroll attempt\n		scrollToAnchor();\n\n		// Set up mutation observer to handle dynamic content\n		const observer = new MutationObserver((mutations) => {\n			if (window.location.hash) {\n				scrollToAnchor();\n			}\n		});\n\n		observer.observe(document.body, {\n			childList: true,\n			subtree: true,\n		});\n	});\n\n	window.addEventListener("hashchange", scrollToAnchor);\n<\/script>  '])), renderComponent($$result, "BaseLayoutNew", $$BaseLayoutNew, { "type": "general", "title": meta_title, "navTheme": "dark", "preconnect": true, "description": meta_desc, "data-astro-cid-5lfdhrch": true }, { "default": ($$result2) => renderTemplate` ${maybeRenderHead()}<div data-astro-cid-5lfdhrch> ${renderComponent($$result2, "NewsLaterPopup", $$NewsLaterPopup, { "data-astro-cid-5lfdhrch": true })} </div> <article class="mt-20 md:mt-28" data-astro-cid-5lfdhrch> <div class="site-container" data-astro-cid-5lfdhrch> <div class="grid lg:grid-cols-12" data-astro-cid-5lfdhrch> <div class="lg:col-span-6 lg:col-start-4" data-astro-cid-5lfdhrch> <div class="mx-auto hidden max-w-[650px] text-sm" data-astro-cid-5lfdhrch> <p id="blog-title" data-astro-cid-5lfdhrch>Loading..</p> </div> </div> </div> </div> <div class="mx-auto max-w-[1500px] px-4 lg:mt-8" data-astro-cid-5lfdhrch> <div class="w-full" data-astro-cid-5lfdhrch> <div class="mx-auto flex flex-col gap-x-6 gap-y-8 lg:grid lg:max-w-none lg:grid-cols-12" data-astro-cid-5lfdhrch> <!-- Left Sidebar --> <aside class="lg:col-span-3 lg:block" data-astro-cid-5lfdhrch> <div class="top-20 lg:sticky" data-astro-cid-5lfdhrch> <div class="mx-auto hidden max-w-[650px] overflow-y-auto pb-4 lg:block lg:h-[calc(100vh-5rem)]" data-astro-cid-5lfdhrch> <!-- Skeleton Loader --> <div id="toc-skeleton" class="space-y-3" data-astro-cid-5lfdhrch> <div class="h-6 w-3/4 rounded bg-gray-200 dark:bg-gray-700" data-astro-cid-5lfdhrch></div> <div class="ml-4 h-5 w-2/3 rounded bg-gray-200 dark:bg-gray-700" data-astro-cid-5lfdhrch></div> <div class="ml-4 h-5 w-2/3 rounded bg-gray-200 dark:bg-gray-700" data-astro-cid-5lfdhrch></div> <div class="h-6 w-3/4 rounded bg-gray-200 dark:bg-gray-700" data-astro-cid-5lfdhrch></div> <div class="ml-4 h-5 w-2/3 rounded bg-gray-200 dark:bg-gray-700" data-astro-cid-5lfdhrch></div> </div> <!-- Actual Content --> <div id="toc-content" class="hidden" data-astro-cid-5lfdhrch> ${renderComponent($$result2, "TableContent", $$TableContent, { "data-astro-cid-5lfdhrch": true })} </div> </div> </div> </aside> <!-- Main Content --> <div class="text-base-content mx-auto w-full max-w-[650px] text-base lg:col-span-6" data-astro-cid-5lfdhrch> <!-- Blog Post Info --> <div class="flex w-full flex-col items-start" data-astro-cid-5lfdhrch> <div class="" data-astro-cid-5lfdhrch> <!-- Category Skeleton --> <div id="category-skeleton" class="h-5 w-1/4 rounded bg-gray-200 dark:bg-gray-700" data-astro-cid-5lfdhrch></div> <!-- Actual Category --> <div class="flex hidden w-full gap-3 md:text-lg" id="contenttype" data-astro-cid-5lfdhrch>CaseStudies</div> <!-- Title Skeleton --> <div id="title-skeleton" class="mb-4 mt-4 space-y-2" data-astro-cid-5lfdhrch> <div class="h-8 w-full rounded bg-gray-200 md:h-10 dark:bg-gray-700" data-astro-cid-5lfdhrch></div> <div class="h-8 w-3/4 rounded bg-gray-200 md:h-10 dark:bg-gray-700" data-astro-cid-5lfdhrch></div> </div> <!-- Actual Title --> <h1 class="main-text-gradient mb-4 mt-4 hidden text-2xl font-bold leading-tight tracking-tight md:text-3xl md:leading-tight" id="blog-title-main" data-astro-cid-5lfdhrch>
Loading..
</h1> <div class="mt-2 flex w-full flex-wrap items-center justify-between gap-2" data-astro-cid-5lfdhrch> <div class="description flex flex-wrap items-center gap-2 text-sm" data-astro-cid-5lfdhrch> <!-- Author & Date Skeleton --> <!-- <div class="mb-auto flex">
											<div class="h-7 w-7 rounded-full bg-gray-200 dark:bg-gray-700"></div>
											<div class="my-auto ml-2 h-4 w-20 rounded bg-gray-200 dark:bg-gray-700"></div>
										</div>
										<div class="flex items-center gap-1.5">
											<div class="h-4 w-24 rounded bg-gray-200 dark:bg-gray-700"></div>
										</div> --> <!-- Actual Author & Date --> <div class="mb-auto hidden" data-astro-cid-5lfdhrch> <figure data-astro-cid-5lfdhrch> ${renderComponent($$result2, "Image", $$Image, { "src": image, "alt": `image`, "width": 100, "quality": "high", "loading": "eager", "class": "h-7 w-7 rounded-full border border-base-300 object-cover dark:border-base-700", "data-astro-cid-5lfdhrch": true })} </figure> <div class="my-auto ml-2" data-astro-cid-5lfdhrch></div> </div> <div class="hidden items-center gap-1.5" data-astro-cid-5lfdhrch> <span data-astro-cid-5lfdhrch>Last Updated on</span> <span id="lastupdated-on" data-astro-cid-5lfdhrch>Last Updated on</span> </div> </div> ${renderComponent($$result2, "FollowUsSection", $$FollowUsSection, { "data-astro-cid-5lfdhrch": true })} </div> </div> <!-- Image Skeleton --> <div id="image-skeleton" class="mt-6 h-[300px] w-full rounded-lg bg-gray-200 md:h-[400px] dark:bg-gray-700" data-astro-cid-5lfdhrch></div> <!-- Actual Image --> <div class="mt-6 hidden overflow-hidden rounded-lg border border-base-300 dark:border-base-700" id="image-container" data-astro-cid-5lfdhrch> ${renderComponent($$result2, "Image", $$Image, { "src": imageSrc, "alt": "", "width": imageWidth, "height": imageHeight, "quality": "high", "class": "max-h-[70vh] object-cover", "loading": "eager", "id": "blog-image", "data-astro-cid-5lfdhrch": true })} </div> </div> <!-- Mobile TOC Skeleton --> <div class="mt-10 lg:hidden" id="mobile-toc-skeleton" data-astro-cid-5lfdhrch> <div class="space-y-3" data-astro-cid-5lfdhrch> <div class="h-6 w-3/4 rounded bg-gray-200 dark:bg-gray-700" data-astro-cid-5lfdhrch></div> <div class="ml-4 h-5 w-2/3 rounded bg-gray-200 dark:bg-gray-700" data-astro-cid-5lfdhrch></div> <div class="ml-4 h-5 w-2/3 rounded bg-gray-200 dark:bg-gray-700" data-astro-cid-5lfdhrch></div> </div> </div> <!-- Content Skeleton --> <div id="content-skeleton" class="mt-16 space-y-4" data-astro-cid-5lfdhrch> <div class="h-4 w-full rounded bg-gray-200 dark:bg-gray-700" data-astro-cid-5lfdhrch></div> <div class="h-4 w-5/6 rounded bg-gray-200 dark:bg-gray-700" data-astro-cid-5lfdhrch></div> <div class="h-4 w-2/3 rounded bg-gray-200 dark:bg-gray-700" data-astro-cid-5lfdhrch></div> <div class="h-4 w-full rounded bg-gray-200 dark:bg-gray-700" data-astro-cid-5lfdhrch></div> <div class="h-4 w-3/4 rounded bg-gray-200 dark:bg-gray-700" data-astro-cid-5lfdhrch></div> <div class="h-4 w-5/6 rounded bg-gray-200 dark:bg-gray-700" data-astro-cid-5lfdhrch></div> <div class="h-4 w-full rounded bg-gray-200 dark:bg-gray-700" data-astro-cid-5lfdhrch></div> <div class="h-4 w-2/3 rounded bg-gray-200 dark:bg-gray-700" data-astro-cid-5lfdhrch></div> </div> <!-- Actual Content --> <section id="blog-description" class="prose mx-auto mt-16 hidden max-w-[650px]" data-astro-cid-5lfdhrch> ${renderSlot($$result2, $$slots["default"])} </section> <!-- <section class="mt-12">
							<a id="read-next-link" class="block">
								<div
									class="rounded-lg border-l-4 border-blue-600 bg-gray-100 p-6 transition-all hover:bg-gray-200 dark:bg-black dark:hover:bg-gray-900"
								>
									<h3 class="text-sm font-semibold uppercase tracking-wide text-blue-600">
										Read Next
									</h3>
									<p
										id="read-next-title"
										class="mt-2 text-lg font-medium leading-relaxed text-gray-800 dark:text-white"
									>
									</p>
								</div>
							</a>
						</section> --> </div> <!-- Right Sidebar --> <aside class="lg:col-span-3 lg:block" data-astro-cid-5lfdhrch> <div class="top-20 lg:sticky" data-astro-cid-5lfdhrch> <div class="fade-section flex flex-col gap-6 pb-4 pr-2 lg:h-[calc(100vh-5rem)] lg:overflow-y-auto" data-fade-in data-astro-cid-5lfdhrch> <!-- Share Skeleton --> <div id="share-skeleton" data-astro-cid-5lfdhrch> <div class="h-6 w-1/3 rounded bg-gray-200 dark:bg-gray-700" data-astro-cid-5lfdhrch></div> <div class="mt-4 flex gap-2" data-astro-cid-5lfdhrch> <div class="h-10 w-10 rounded-full bg-gray-200 dark:bg-gray-700" data-astro-cid-5lfdhrch></div> <div class="h-10 w-10 rounded-full bg-gray-200 dark:bg-gray-700" data-astro-cid-5lfdhrch></div> <div class="h-10 w-10 rounded-full bg-gray-200 dark:bg-gray-700" data-astro-cid-5lfdhrch></div> </div> </div> <!-- Product Card Skeleton --> <div id="product-skeleton" class="space-y-3" data-astro-cid-5lfdhrch> <div class="h-6 w-1/3 rounded bg-gray-200 dark:bg-gray-700" data-astro-cid-5lfdhrch></div> <div class="h-40 w-full rounded bg-gray-200 dark:bg-gray-700" data-astro-cid-5lfdhrch></div> <div class="h-4 w-full rounded bg-gray-200 dark:bg-gray-700" data-astro-cid-5lfdhrch></div> <div class="h-4 w-3/4 rounded bg-gray-200 dark:bg-gray-700" data-astro-cid-5lfdhrch></div> </div> <!-- Recent Posts Skeleton --> <div id="recent-posts-skeleton" class="space-y-3" data-astro-cid-5lfdhrch> <div class="h-6 w-1/3 rounded bg-gray-200 dark:bg-gray-700" data-astro-cid-5lfdhrch></div> <div class="space-y-4" data-astro-cid-5lfdhrch> <div class="flex gap-3" data-astro-cid-5lfdhrch> <div class="h-16 w-16 rounded bg-gray-200 dark:bg-gray-700" data-astro-cid-5lfdhrch></div> <div class="flex-1 space-y-2" data-astro-cid-5lfdhrch> <div class="h-4 w-full rounded bg-gray-200 dark:bg-gray-700" data-astro-cid-5lfdhrch></div> <div class="h-3 w-3/4 rounded bg-gray-200 dark:bg-gray-700" data-astro-cid-5lfdhrch></div> </div> </div> <div class="flex gap-3" data-astro-cid-5lfdhrch> <div class="h-16 w-16 rounded bg-gray-200 dark:bg-gray-700" data-astro-cid-5lfdhrch></div> <div class="flex-1 space-y-2" data-astro-cid-5lfdhrch> <div class="h-4 w-full rounded bg-gray-200 dark:bg-gray-700" data-astro-cid-5lfdhrch></div> <div class="h-3 w-3/4 rounded bg-gray-200 dark:bg-gray-700" data-astro-cid-5lfdhrch></div> </div> </div> </div> </div> <!-- Actual Sidebar Content --> <div id="sidebar-content" class="hidden" data-astro-cid-5lfdhrch> <div data-astro-cid-5lfdhrch> <h3 class="text-lg font-semibold" data-astro-cid-5lfdhrch>Share This Post</h3> <div class="mt-2 flex w-full flex-wrap justify-center gap-1" data-astro-cid-5lfdhrch> ${renderComponent($$result2, "ShareButtons", $$ShareButtons, { "title": `What Are Path Aliases?`, "url": Astro2.url, "link": true, "class": "mb-3 flex-auto", "whatsapp": true, "data-astro-cid-5lfdhrch": true })} </div> </div> ${renderComponent($$result2, "ProductCard", $$ProductCard, { "data-astro-cid-5lfdhrch": true })} <!-- <RecentPopularPostsCard /> --> </div> </div> </div> </aside> </div> </div> </div> </article>  <div class="mt-10 flex flex-col gap-10 md:gap-16" data-astro-cid-5lfdhrch> <!-- Related Posts Skeleton --> <div id="related-posts-skeleton" class="space-y-4 px-4" data-astro-cid-5lfdhrch> <div class="h-6 w-1/4 rounded bg-gray-200 dark:bg-gray-700" data-astro-cid-5lfdhrch></div> <div class="grid grid-cols-1 gap-4 sm:grid-cols-2 lg:grid-cols-3" data-astro-cid-5lfdhrch> <div class="h-48 rounded-lg bg-gray-200 dark:bg-gray-700" data-astro-cid-5lfdhrch></div> <div class="h-48 rounded-lg bg-gray-200 dark:bg-gray-700" data-astro-cid-5lfdhrch></div> <div class="h-48 rounded-lg bg-gray-200 dark:bg-gray-700" data-astro-cid-5lfdhrch></div> </div> </div> <!-- Comment Section Skeleton --> <div id="comment-skeleton" class="space-y-4 px-4" data-astro-cid-5lfdhrch> <div class="h-6 w-1/4 rounded bg-gray-200 dark:bg-gray-700" data-astro-cid-5lfdhrch></div> <div class="h-32 rounded-lg bg-gray-200 dark:bg-gray-700" data-astro-cid-5lfdhrch></div> </div> <!-- Actual Bottom Sections --> <div id="related-posts-content" class="hidden" data-astro-cid-5lfdhrch> ${renderComponent($$result2, "CaseRelatedPostsSwiper", $$CaseRelatedPostsSwiper, { "rcont": rcont, "styp": styp, "nid": nid, "data-astro-cid-5lfdhrch": true })} </div> <div id="comment-section-content" class="hidden" data-astro-cid-5lfdhrch> ${renderComponent($$result2, "CommentSection", $$CommentSection, { "data-astro-cid-5lfdhrch": true })} </div> </div> ` }));
}, "/home/blackridgeorg/public_html/src/pages/case-studies/[...slug].astro", void 0);

const $$file = "/home/blackridgeorg/public_html/src/pages/case-studies/[...slug].astro";
const $$url = "/case-studies/[...slug]";

const _page = /*#__PURE__*/Object.freeze(/*#__PURE__*/Object.defineProperty({
	__proto__: null,
	default: $$,
	file: $$file,
	url: $$url
}, Symbol.toStringTag, { value: 'Module' }));

const page = () => _page;

export { page };
